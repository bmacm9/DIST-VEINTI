webpackJsonp([1],{"0mFX":function(t,a){},"1a1c":function(t,a,e){t.exports=e.p+"static/img/subirfotos.b6244c3.png"},"36dH":function(t,a){},"6MzZ":function(t,a){},"6OD3":function(t,a,e){t.exports=e.p+"static/img/arana.852bec2.jpg"},"7Ogj":function(t,a,e){t.exports=e.p+"static/img/logo.eae31f1.png"},"9M+g":function(t,a){},Crpj:function(t,a){},ERgm:function(t,a){},Jmt5:function(t,a){},JuQI:function(t,a){},K13v:function(t,a){},N0bJ:function(t,a){},NHnr:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("7+uW"),i={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},staticRenderFns:[]};var r=e("VU/8")({name:"App"},i,!1,function(t){e("xkxB")},null,null).exports,o=e("/ocq"),n=e("mvHQ"),c=e.n(n),l=e("mtWM"),u=e.n(l),d=e("BUS2"),v={name:"Principal",data:function(){return{user:{email:"",password:""},error:""}},methods:{logIn:function(){var t=this,a="http://migueldev.pythonanywhere.com/api/v1.0/users/?email="+this.user.email+"&password="+Object(d.sha256)(this.user.password);u.a.get(a).then(function(a){a.data.length>0?(t.error="",t.aux={email:t.user.email,password:Object(d.sha256)(t.user.password)},sessionStorage.setItem("user",c()(t.aux)),t.$router.push("home"),document.body.style="background-color: white"):t.error="Email o contraseña incorrecta"}).catch(function(t){console.log("error: "+t)})},autologin:function(){var t=this,a="http://migueldev.pythonanywhere.com/api/v1.0/users/?email="+this.user.email+"&password="+this.user.password;u.a.get(a).then(function(a){a.data.length>0?(t.error="",t.$router.push("home")):t.error="Email o contraseña incorrecta"}).catch(function(t){console.log("error")})}},mounted:function(){sessionStorage.getItem("user")&&(this.user=JSON.parse(sessionStorage.getItem("user")),this.autologin())}},m={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[e("div",{staticClass:"row justify-content-center"},[t._m(0),t._v(" "),e("div",{staticClass:"caja pt-5 pb-5 col-10 col-lg-6"},[""!=t.error?e("div",{staticClass:"row pb-2"},[e("b-alert",{staticClass:"col-12",attrs:{variant:"danger",show:""}},[t._v(t._s(t.error))])],1):t._e(),t._v(" "),e("form",{staticClass:"form",on:{submit:function(a){return a.preventDefault(),t.logIn(a)}}},[e("div",{staticClass:"row"},[e("label",{staticClass:"col-3 text-right",attrs:{for:"email"}},[t._v("E-mail")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"col-8",attrs:{required:"",id:"email",name:"email",type:"email"},domProps:{value:t.user.email},on:{input:function(a){a.target.composing||t.$set(t.user,"email",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"row mt-2"},[e("label",{staticClass:"col-3 text-right",attrs:{for:"password"}},[t._v("Contraseña")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"col-8",attrs:{required:"",id:"password",name:"password",type:"password"},domProps:{value:t.user.password},on:{input:function(a){a.target.composing||t.$set(t.user,"password",a.target.value)}}})]),t._v(" "),t._m(1),t._v(" "),t._m(2)])]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"col-12 text-center"},[a("img",{staticClass:"logo",attrs:{src:e("7Ogj")}})])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"row mt-2"},[a("div",{staticClass:"col-3"}),this._v(" "),a("input",{attrs:{type:"checkbox",id:"recordar"}}),a("p",{staticClass:"col-8"},[this._v("Recordar en este equipo")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-3"}),this._v(" "),a("input",{staticClass:"btn btn-primary boton col-2",attrs:{type:"submit",value:"enviar"}})])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"col-12 text-center"},[a("a",{staticClass:"text-white"},[this._v("¿Has olvidado tu contraseña")])])}]};var p=e("VU/8")(v,m,!1,function(t){e("eocK")},"data-v-6db5bb98",null).exports,f=e("BO1k"),h=e.n(f),_={created:function(){this.user=sessionStorage.getItem("user"),this.user=JSON.parse(this.user),this.email=this.user.email,this.getID(this.email),this.complete=!0},data:function(){return{images:[],user:{id:""},busqueda:""}},methods:{logOut:function(){sessionStorage.removeItem("user"),document.body.style="background-color: #5284b5 !important",this.$router.replace("/")},addImage:function(t){this.images.push(t.target.files[t.target.files.length-1])},subirImagenes:function(){var t=!0,a=!1,e=void 0;try{for(var s,i=h()(this.images);!(t=(s=i.next()).done);t=!0){var r=s.value,o=new FormData;o.append("image",r),o.append("dateTime",(new Date).toISOString()),o.append("uploaded_by",this.user.id);(new Date).toISOString(),this.user.id;u.a.post("http://migueldev.pythonanywhere.com/api/v1.0/photos/",o).then(function(t){})}}catch(t){a=!0,e=t}finally{try{!t&&i.return&&i.return()}finally{if(a)throw e}}},addVisit:function(){var t="http://migueldev.pythonanywhere.com/api/v1.0/users/"+this.$route.params.id+"/";u.a.get(t).then(function(a){var e=a.data.visits+1;u.a.patch(t,{visits:e}).then(function(t){})})},getID:function(t){var a=this,e="http://migueldev.pythonanywhere.com/api/v1.0/users/?email="+t;u.a.get(e).then(function(t){a.user.id=t.data[0].id,a.$route.params.id&&a.$route.params.id!=a.user.id&&a.addVisit()})},miPerfil:function(){this.$router.push({name:"MiPerfil",params:{id:this.user.id}}),this.$emit("recarga")},buscar:function(){if(""!=this.busqueda){var t=this.busqueda.replace(/\s/g,"+");this.$router.push({name:"Busqueda",params:{search:t}}),this.$emit("recarga")}}}},g={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"w-100"},[s("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"info"}},[s("b-navbar-brand",{attrs:{to:"/home"}},[s("img",{staticClass:"logo",attrs:{src:e("7Ogj")}})]),t._v(" "),s("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),t._v(" "),s("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[s("b-navbar-nav",[s("b-nav-item",{attrs:{to:"/home"}},[t._v("Inicio")]),t._v(" "),s("b-nav-item",{on:{click:t.miPerfil}},[t._v(" Perfil")]),t._v(" "),s("b-nav-item",{attrs:{to:"/mensajes"}},[t._v("Mensajes")]),t._v(" "),s("b-nav-item",{attrs:{href:"#"}},[t._v("Gente")]),t._v(" "),s("b-nav-item",{attrs:{href:"#"}},[t._v("Videos")]),t._v(" "),s("b-nav-form",{on:{submit:function(a){return a.preventDefault(),t.buscar()}}},[s("b-form-input",{staticClass:"mr-sm-2",attrs:{size:"sm",placeholder:"Buscar..."},model:{value:t.busqueda,callback:function(a){t.busqueda=a},expression:"busqueda"}})],1),t._v(" "),s("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.subir-foto",modifiers:{"subir-foto":!0}}],staticClass:"subirFoto mt-md-1 ml-md-2",attrs:{variant:"primary"}},[t._v("Subir foto"),s("i",{staticClass:"ml-2 fas fa-cloud-upload-alt"})]),t._v(" "),s("b-modal",{attrs:{size:"xl","cancel-disabled":"","ok-disabled":"",id:"subir-foto",title:"Subir Foto"},scopedSlots:t._u([{key:"default",fn:function(){return[s("div",{staticClass:"row"},[s("div",{staticClass:"col-6 border-right"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("h3",{staticClass:"text-center"},[t._v("Subida múltiple de fotos")])]),t._v(" "),s("div",{staticClass:"col-12"},[s("p",{staticClass:"text-center"},[t._v("Para subir muchas fotos a la vez")])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 text-center"},[s("img",{staticClass:"imagenSubidaMultiple",attrs:{src:e("1a1c")}})])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("p",{staticClass:"text-center"},[t._v("Haz click mientras presionas Ctrl para seleccionar varios archivos")])]),t._v(" "),s("div",{staticClass:"col-12 text-center"},[s("b-button",{staticClass:"btn-veinti",attrs:{variant:"primary"}},[t._v("Seleccionar Fotos")])],1)])]),t._v(" "),s("div",{staticClass:"col-6"},[s("div",{staticClass:"row h-100"},[s("div",{staticClass:"col-12"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("h3",{staticClass:"text-center"},[t._v("Sistema de subida básica")])]),t._v(" "),s("div",{staticClass:"col-12"},[s("p",{staticClass:"text-center"},[t._v("Para subir pocas fotos")])])])]),t._v(" "),s("div",{staticClass:"row"},[s("form",{staticClass:"col-12",attrs:{method:"POST"},on:{submit:function(a){return a.preventDefault(),t.subirImagenes(a)}}},[s("div",{staticClass:"row w-100 align-items-center"},[s("div",{staticClass:"col-12 mb-2 text-center"},[s("input",{attrs:{type:"file",value:"Seleccionar Archivo"},on:{change:function(a){return t.addImage(a)}}})]),t._v(" "),s("div",{staticClass:"col-12 mt-2 mb-2 text-center",on:{change:function(a){return t.addImage(a)}}},[s("input",{attrs:{type:"file",value:"Seleccionar Archivo"}})]),t._v(" "),s("div",{staticClass:"col-12 mt-2 mb-2 text-center",on:{change:function(a){return t.addImage(a)}}},[s("input",{attrs:{type:"file",value:"Seleccionar Archivo"}})]),t._v(" "),s("div",{staticClass:"col-12 mt-2 mb-2 text-center",on:{change:function(a){return t.addImage(a)}}},[s("input",{attrs:{type:"file",value:"Seleccionar Archivo"}})]),t._v(" "),s("div",{staticClass:"col-12 mt-2 mb-2 text-center",on:{change:function(a){return t.addImage(a)}}},[s("input",{attrs:{type:"file",value:"Seleccionar Archivo"}})]),t._v(" "),s("div",{staticClass:"col-12 mt-2 text-center",on:{change:function(a){return t.addImage(a)}}},[s("input",{attrs:{type:"file",value:"Seleccionar Archivo"}})])]),t._v(" "),s("div",{staticClass:"row mt-5"},[s("div",{staticClass:"col-12"},[s("p",{staticClass:"text-center"},[t._v("Sólo se aceptan imágenes .jpg .png y .gif de menos de 10 MB")])]),t._v(" "),s("div",{staticClass:"col-12 text-center"},[s("b-button",{staticClass:"btn-veinti",attrs:{type:"submit",variant:"primary"}},[t._v("Subir")])],1)])])])])])])]},proxy:!0},{key:"modal-footer",fn:function(a){var e=a.hide;return[s("b-button",{attrs:{variant:"outline-danger"},on:{click:function(t){return e("forget")}}},[t._v("\n                        Cerrar\n                    ")])]}}])})],1),t._v(" "),s("b-navbar-nav",{staticClass:"ml-auto"},[s("b-nav-item",{attrs:{to:"/mi-cuenta"}},[t._v("Mi cuenta")]),t._v(" "),s("b-nav-item",{attrs:{href:"#"},on:{click:t.logOut}},[t._v("Salir")])],1)],1)],1)],1)},staticRenderFns:[]};var C=e("VU/8")(_,g,!1,function(t){e("puqh")},null,null).exports,w=e("bOdI"),y=e.n(w),b={props:{user:Object},data:function(){var t;return t={visitas:"",nombre:"",apellido:""},y()(t,"visitas",""),y()(t,"foto",""),y()(t,"invis",""),y()(t,"notificaciones",{peticion:"",comentario:""}),y()(t,"enviada",!1),y()(t,"id_peticion",""),t},created:function(){var t=this;setTimeout(function(){t.getPeticiones(),t.getNotificaciones()},500)},computed:{},methods:{enviarInvi:function(){var t=this;this.id_peticion=this.makeid(5);var a={code:this.id_peticion,user:this.user.id};u.a.post("http://migueldev.pythonanywhere.com/api/v1.0/invitation/",a).then(function(a){var e="http://migueldev.pythonanywhere.com/api/v1.0/users/"+t.user.id+"/",s={invitations:t.user.invis-1};u.a.patch(e,s).then(function(t){}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)}),this.enviada=!0},makeid:function(t){for(var a="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=e.length,i=0;i<t;i++)a+=e.charAt(Math.floor(Math.random()*s));return a},getPeticiones:function(){var t=this,a="http://migueldev.pythonanywhere.com/api/v1.0/friendrequest/?send_to="+this.user.id;u.a.get(a).then(function(a){t.notificaciones.peticion=a.data.length})},getNotificaciones:function(){var t=this,a="http://migueldev.pythonanywhere.com/api/v1.0/notifications/?user="+this.user.id;u.a.get(a).then(function(a){t.notificaciones.comentario=a.data.length})},borrarNoti:function(){var t=this,a="http://migueldev.pythonanywhere.com/api/v1.0/notifications/?user="+this.user.id;u.a.get(a).then(function(a){var e=!0,s=!1,i=void 0;try{for(var r,o=h()(a.data);!(e=(r=o.next()).done);e=!0){var n="http://migueldev.pythonanywhere.com/api/v1.0/notifications/"+r.value.id+"/";u.a.delete(n).then(function(a){t.$router.push({name:"MiPerfil",params:{id:t.user.id}})})}}catch(t){s=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(s)throw i}}})},peticionesAmistad:function(){this.$router.push({name:"peticiones"})}}},x={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row total"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"row mt-4 justify-content-end"},[e("div",{staticClass:"col-11 bg-white cajaPerfil"},[e("div",{staticClass:"row info-row-perfil pt-2 pb-2"},[e("div",{staticClass:"col-2 p-0"},[e("router-link",{attrs:{to:"/perfil/"+t.user.id}},[e("img",{staticClass:"imagenPerfil",attrs:{src:t.user.foto}})])],1),t._v(" "),e("div",{staticClass:"col-10"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 nombrePerfil"},[e("router-link",{attrs:{to:"/perfil/"+t.user.id}},[t._v(t._s(t.user.nombre)+" "+t._s(t.user.apellido))])],1)]),t._v(" "),e("div",{staticClass:"row mt-1"},[e("div",{staticClass:"col-12 visitas"},[e("i",{staticClass:"far fa-chart-bar"}),e("strong",[t._v(" "+t._s(t.user.visitas)+" ")]),t._v(" visitas a tu perfil\n                            ")])])])]),t._v(" "),""!=t.notificaciones.peticion||""!=t.notificaciones.comentario?e("div",{staticClass:"notificaciones row"},[""!=t.notificaciones.peticion?e("div",{staticClass:"notificacion col-12"},[e("a",{staticClass:"notificación",on:{click:t.peticionesAmistad}},[e("i",{staticClass:"fas fa-user-plus"}),t._v(" "+t._s(t.notificaciones.peticion)+" petición de amistad")])]):t._e(),t._v(" "),""!=t.notificaciones.comentario?e("div",{staticClass:"notificacion col-12"},[e("a",{staticClass:"notificación",on:{click:t.borrarNoti}},[e("i",{staticClass:"far fa-comment"}),t._v(" "+t._s(t.notificaciones.comentario)+" comentarios en tu perfil")])]):t._e()]):t._e()])]),t._v(" "),e("div",{staticClass:"row mt-3 justify-content-end"},[e("div",{staticClass:"col-11"},[t._m(0),t._v(" "),e("div",{staticClass:"row row-invitaciones mt-2"},[e("div",{staticClass:"col-12"},[e("p",{staticClass:"invitaciones"},[t._v(t._s(t.user.invis)+" invitaciones")])])]),t._v(" "),e("form",{staticClass:"row row-invitar-form pb-3",on:{submit:function(a){return a.preventDefault(),t.enviarInvi(a)}}},[t._m(1),t._v(" "),e("div",{staticClass:"col-5"},[e("b-button",{staticClass:"btn-invitar",attrs:{variant:"primary",size:"sm",type:"submit"}},[t._v("Invitar")])],1),t._v(" "),t.enviada?e("div",{staticClass:"col-12 pl-0 mt-3 bg-success w-100"},[e("p",{staticClass:"w-100 text-white"},[t._v("Mandale a tu amigo el enlace: "),e("a",{staticClass:"w-100"},[t._v("http://localhost:8080/invitacion/"+t._s(t.id_peticion))])])]):t._e()])])])])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"row row-invitar-title"},[a("div",{staticClass:"col-12"},[a("h3",{staticClass:"invitar-title"},[this._v("Invitar a tus amigos")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"col-7 pr-0"},[a("input",{staticClass:"w-100",attrs:{required:"",type:"email",placeholder:"E-mail",name:"email"}})])}]};var E=e("VU/8")(b,x,!1,function(t){e("Tg2K")},"data-v-e6298ffa",null).exports,$={props:{user:Object},data:function(){return{estado:{estado_texto:"",dateTime:null,id:""}}},created:function(){this.getEstado()},methods:{getEstado:function(){var t=this;if(this.$route.params.id){var a="http://migueldev.pythonanywhere.com/api/v1.0/status/?user="+this.$route.params.id;u.a.get(a).then(function(a){a.data.results.length>0?(t.estado.estado_texto=a.data.results[0].status_text,t.estado.dateTime=a.data.results[0].dateTime):t.$emit("sinEstado")}).catch(function(){console.log("ERRRROOOOOOOR")})}else this.getStatusWithID()},getStatusWithID:function(){var t=this,a=sessionStorage.getItem("user"),e="http://migueldev.pythonanywhere.com/api/v1.0/users/?email="+(a=JSON.parse(a)).email;u.a.get(e).then(function(a){t.getStatus(a.data[0].id)})},getStatus:function(t){var a=this,e="http://migueldev.pythonanywhere.com/api/v1.0/status/?user="+t;u.a.get(e).then(function(t){t.data.results.length>0?(a.estado.estado_texto=t.data.results[0].status_text,a.estado.dateTime=t.data.results[0].dateTime):a.$emit("sinEstado")}).catch(function(){console.log("ERRRROOOOOOOR")})}}},P={render:function(){var t=this.$createElement,a=this._self._c||t;return a("p",{staticClass:"m-0"},[this._v(this._s(this.estado.estado_texto)+" "),a("small",[this._v(this._s(this.estado.dateTime))])])},staticRenderFns:[]};var T=e("VU/8")($,P,!1,function(t){e("hrZk")},"data-v-08206cca",null).exports,k={created:function(){this.user=sessionStorage.getItem("user"),this.user=JSON.parse(this.user),this.email=this.user.email,this.getID(this.email),this.complete=!0},components:{MainPerfilEstado:T},data:function(){return{nuevoEstadoTexto:"",user:{id:""},email:"",complete:!1,tieneEstado:!1,amigos:[]}},methods:{nuevoEstado:function(){var t=this,a={status_text:this.nuevoEstadoTexto,dateTime:(new Date).toISOString(),user:this.user.id};u.a.post("http://migueldev.pythonanywhere.com/api/v1.0/status/",a).then(function(a){t.$router.replace("/perfil/"+t.user.id)}).catch(function(t){console.log(t)})},perfil:function(t){this.$router.push({name:"MiPerfil",params:{id:t}})},getAmigos:function(){var t=this,a="http://migueldev.pythonanywhere.com/api/v1.0/friends/?user="+this.user.id,e="http://migueldev.pythonanywhere.com/api/v1.0/friends/?is_friend="+this.user.id;u.a.all([u.a.get(a),u.a.get(e)]).then(function(a){var e=!0,s=!1,i=void 0;try{for(var r,o=h()(a[0].data);!(e=(r=o.next()).done);e=!0){var n=r.value;t.amigos.push(n.is_friend)}}catch(t){s=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(s)throw i}}var c=!0,l=!1,u=void 0;try{for(var d,v=h()(a[1].data);!(c=(d=v.next()).done);c=!0){var m=d.value;t.amigos.push(m.user)}}catch(t){l=!0,u=t}finally{try{!c&&v.return&&v.return()}finally{if(l)throw u}}})},sinEstado:function(){this.tieneEstado=!0},getID:function(t){var a=this,e="http://migueldev.pythonanywhere.com/api/v1.0/users/?email="+t;u.a.get(e).then(function(t){a.user.id=t.data[0].id,a.getAmigos()})}}},D={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row mt-4 ml-3 mr-3"},[e("div",{staticClass:"col-12"},[e("form",{on:{submit:function(a){return a.preventDefault(),t.nuevoEstado(a)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.nuevoEstadoTexto,expression:"nuevoEstadoTexto"}],staticClass:"w-100 input-estado",attrs:{type:"text",placeholder:" Actualiza tu estado"},domProps:{value:t.nuevoEstadoTexto},on:{input:function(a){a.target.composing||(t.nuevoEstadoTexto=a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"row mt-2 justify-content-between"},[e("div",{staticClass:"col estado"},[t.tieneEstado?t._e():e("p",{staticClass:"d-flex"},[e("strong",[t._v("Última actualizacion: ")]),e("MainPerfilEstado",{attrs:{id:t.user.id},on:{sinEstado:t.sinEstado}})],1)]),t._v(" "),e("div",{staticClass:"col-2 text-right"},[e("b-button",{staticClass:"btn-guardarEstado",attrs:{type:"submit",variant:"primary"}},[t._v("Guardar")])],1)])]),t._v(" "),t._m(0),t._v(" "),0==t.amigos.length?e("div",{staticClass:"row justify-content-center"},[t._m(1),t._v(" "),t._m(2)]):t._e(),t._v(" "),0!=t.amigos.length?e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},t._l(t.amigos,function(a){return e("div",{key:a.key,staticClass:"row py-3 mt-3 border"},[e("div",{staticClass:"col-auto"},[e("img",{staticClass:"imagePerfil",attrs:{src:a.profile_pic}})]),t._v(" "),e("div",{staticClass:"col-auto"},[e("a",{staticClass:"enlace",on:{click:function(e){return t.perfil(a.id)}}},[t._v(t._s(a.name)+" "+t._s(a.surname))])])])}),0)]):t._e()])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"row mt-4"},[a("div",{staticClass:"col-12 border-bottom"},[a("h3",[this._v("Novedades de tus amigos")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"col-12 text-center"},[a("img",{attrs:{src:e("6OD3")}})])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"col-12 text-center texto-veinti"},[a("h3",[this._v("Todavía no tienes ningún amigo en Veinti. Comienza buscando a tus amigos.")])])}]};var S={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"row mt-3 barra align-items-center"},[e("div",{staticClass:"col-12 pt-1 text-white"},[e("h4",[t._v("Veinti")])])]),t._v(" "),e("div",{staticClass:"row border caja-derecha"},[e("div",{staticClass:"col-12"},[t._v("\n                Hola, Bienvenido a "),e("strong",[t._v("Veinti")]),t._v(", este proyecto aún se encuentra en desarrollo.\n                "),e("br"),t._v("\n                Se ha realizado con "),e("strong",[t._v("fines educativos y en ningún caso intenta ser una red social real.")]),e("br"),t._v(" "),e("br"),t._v(" Simplemente es un proyecto para aliviar cierta nostalgia de las redes sociales del pasado.\n                "),e("br"),t._v("\n                Puedes echar un vistazo al código en mi "),e("a",{attrs:{href:"https://github.com/bmacm9",target:"__blank"}},[e("strong",[t._v("Github")])])])])])])}]};var j={data:function(){return{user:{nombre:"",apellido:"",foto:"",visitas:"",invis:"",id:""}}},components:{Navbar:C,Sidebar:E,HomeMain:e("VU/8")(k,D,!1,function(t){e("36dH")},"data-v-6f6ee1bc",null).exports,RightSide:e("VU/8")({},S,!1,function(t){e("xuJ4")},"data-v-a08154fc",null).exports},beforeCreate:function(){var t=this;if(void 0!=sessionStorage.getItem("user")){this.user=sessionStorage.getItem("user"),this.user=JSON.parse(this.user);var a="http://migueldev.pythonanywhere.com/api/v1.0/users/?email="+this.user.email+"&password="+this.user.password;u.a.get(a).then(function(a){t.user.nombre=a.data[0].name,t.user.apellido=a.data[0].surname,t.user.foto=a.data[0].profile_pic,t.user.visitas=a.data[0].visits,t.user.invis=a.data[0].invitations,t.user.id=a.data[0].id})}else document.body.style="background-color: #5284b5 !important",this.$router.push({name:"Principal"})}},O={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"container-fluid"},[a("Navbar",{attrs:{user:this.user}}),this._v(" "),a("div",{staticClass:"row mr-0"},[a("Sidebar",{staticClass:"col-9 col-sm-5 col-md-4 col-xl-2 ml-5",attrs:{user:this.user}}),this._v(" "),a("HomeMain",{staticClass:"col-11 col-md-7"}),this._v(" "),a("RightSide",{staticClass:"d-none d-xl-inline col-xl-2"})],1)],1)},staticRenderFns:[]};var M=e("VU/8")(j,O,!1,function(t){e("0mFX")},"data-v-1527bfda",null).exports,A={components:{Navbar:C},beforeCreate:function(){void 0==sessionStorage.getItem("user")&&(document.body.style="background-color: #5284b5 !important",this.$router.push({name:"Principal"}))}},N={render:function(){var t=this.$createElement;return(this._self._c||t)("Navbar")},staticRenderFns:[]};var I=e("VU/8")(A,N,!1,function(t){e("ERgm")},null,null).exports,R={props:{user:Object},computed:{edad:function(){var t=this.user.nacimiento.split("-"),a=new Date(t[0],"3",t[2]),e=new Date;return e>=a?e.getFullYear()-a.getFullYear():e.getFullYear()-a.getFullYear()-1}}},F={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row total ml-5"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"row mt-4 justify-content-end"},[e("div",{staticClass:"col-11 bg-white cajaPerfil"},[e("div",{staticClass:"row info-row-perfil pt-2 pb-2"},[e("img",{staticClass:"imagenPerfil",attrs:{src:t.user.foto}})])])]),t._v(" "),e("div",{staticClass:"row mt-4 justify-content-end"},[e("div",{staticClass:"col-11"},[t._m(0),t._v(" "),e("div",{staticClass:"row mt-3 row-informacion-content"},[e("div",{staticClass:"col-12"},[e("p",[e("strong",[t._v("Fecha de Nacimiento: ")]),t._v(t._s(t.user.nacimiento))])]),t._v(" "),e("div",{staticClass:"col-12"},[e("p",[e("strong",[t._v("Genero: ")]),t._v(t._s(t.user.genero))])]),t._v(" "),e("div",{staticClass:"col-12"},[e("p",[e("strong",[t._v("Edad: ")]),t._v(t._s(t.edad))])]),t._v(" "),e("div",{staticClass:"col-12"},[e("p",[e("strong",[t._v("Estado: ")]),t._v(t._s(t.user.estadoCivil))])])])])])])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"row row-informacion-title border-bottom mr-2"},[a("div",{staticClass:"col-12"},[a("h3",{staticClass:"informacion-title"},[this._v("Información")])])])}]};var q=e("VU/8")(R,F,!1,function(t){e("xj+B")},"data-v-6b005880",null).exports,z=e("fZjL"),V=e.n(z),U={created:function(){this.getEspacio()},data:function(){return{title:"",description:"",date:"",video:"",imagen:"",idEspacio:"",email:"",numeroDeEspacioActual:1,numeroDeEspaciosTotales:"",mostrarFormulario:!1,respuesta:!1,form:{title:"",description:"",video:null,imagen:null,user:""}}},methods:{getEspacio:function(){var t=this,a="http://migueldev.pythonanywhere.com/api/v1.0/personalspace/?user="+this.$route.params.id;u.a.get(a).then(function(a){t.idEspacio=a.data[t.numeroDeEspacioActual-1].id,t.numeroDeEspaciosTotales=V()(a.data).length,t.title=a.data[t.numeroDeEspacioActual-1].title,t.description=a.data[t.numeroDeEspacioActual-1].description,t.date=a.data[t.numeroDeEspacioActual-1].dateTime,t.video=a.data[t.numeroDeEspacioActual-1].video,t.imagen=a.data[t.numeroDeEspacioActual-1].imagen}).catch(function(){})},siguienteEspacio:function(){this.numeroDeEspacioActual<=this.numeroDeEspaciosTotales-1&&(this.numeroDeEspacioActual++,this.getEspacio())},anteriorEspacio:function(){this.numeroDeEspacioActual-1>=1&&(this.numeroDeEspacioActual--,this.getEspacio())},primerEspacio:function(){this.numeroDeEspacioActual=1,this.getEspacio()},ultimoEspacio:function(){this.numeroDeEspacioActual=this.numeroDeEspaciosTotales,this.getEspacio()},formularioNuevo:function(){this.mostrarFormulario=!0},cerrarFormulario:function(){this.mostrarFormulario=!1},enviarEspacio:function(){var t=this;this.form.user=this.$route.params.id;var a={title:this.form.title,description:this.form.description,video:this.form.video,imagen:this.form.imagen,dateTime:(new Date).toISOString(),user:this.form.user};u.a.post("http://migueldev.pythonanywhere.com/api/v1.0/personalspace/",a).then(function(a){t.getEspacio(t.$route.params.id),t.cerrarFormulario(),t.form.title="",t.form.video=null,t.form.imagen=null,t.form.description=""}).catch(function(t){console.log(t)})},addImage:function(t){this.form.imagen=t.target.files[0]},borrarEspacio:function(){var t=this,a="http://migueldev.pythonanywhere.com/api/v1.0/personalspace/"+this.idEspacio+"/";u.a.delete(a).then(function(a){t.numeroDeEspaciosTotales>1?t.getEspacio(t.$route.params.id):t.numeroDeEspaciosTotales=0}).catch(function(t){console.log("error"+t)})}},computed:{enlaceEmbed:function(){if(null!=this.video){var t=this.video.split("v=")[1],a=t.indexOf("&");return-1!=a&&(t=t.substring(0,a)),"http://youtube.com/embed/"+t}}},beforeCreate:function(){var t=this,a=sessionStorage.getItem("user"),e="http://migueldev.pythonanywhere.com/api/v1.0/users/?email="+(a=JSON.parse(a)).email+"&password="+a.password;u.a.get(e).then(function(a){a.data[0].id==t.$route.params.id?t.respuesta=!0:t.respuesta=!1}).catch(function(){console.log("ERROR")})}},B={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row row-espacio mt-4"},[e("div",{staticClass:"col-12"},[t._m(0),t._v(" "),t.numeroDeEspaciosTotales>0&&!t.mostrarFormulario?e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"row mt-4"},[e("div",{staticClass:"col-auto"},[e("strong",[t._v(t._s(t.title))])]),t._v(" "),e("div",{staticClass:"col-auto"},[e("small",[t._v(t._s(t.date))])]),t._v(" "),t.respuesta?e("div",{staticClass:"col"},[e("div",{staticClass:"row justify-content-end align-items-center"},[e("div",{staticClass:"col-auto"},[e("a",{staticClass:"borrar-espacio",on:{click:t.borrarEspacio}},[t._v("Borrar entrada")])]),t._v(" "),e("div",{staticClass:"col-auto"},[e("b-button",{attrs:{variant:"outline-secondary"},on:{click:t.formularioNuevo}},[t._v("Nuevo")])],1)])]):t._e()]),t._v(" "),t.video?e("div",{staticClass:"row mt-3"},[e("div",{staticClass:"col-12"},[e("iframe",{attrs:{frameborder:"0",scrolling:"no",marginheight:"0",marginwidth:"0",width:"267",height:"150",type:"text/html",src:t.enlaceEmbed}})])]):t._e(),t._v(" "),t.imagen?e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("img",{staticClass:"imagenEspacio",attrs:{src:t.imagen}})])]):t._e(),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 mt-3 text-justify"},[t._v("\n                        "+t._s(t.description)+" \n                    ")])]),t._v(" "),e("div",{staticClass:"row justify-content-end align-items-center mt-3"},[e("div",{staticClass:"col-auto text-secondary"},[t._v("\n                        "+t._s(t.numeroDeEspacioActual)+" de "+t._s(t.numeroDeEspaciosTotales)+"\n                    ")]),t._v(" "),e("div",{staticClass:"col-auto"},[e("b-button",{staticClass:"mr-1",attrs:{size:"sm",variant:"outline-secondary"},on:{click:t.primerEspacio}},[e("i",{staticClass:"fas fa-chevron-left"}),e("i",{staticClass:"fas fa-chevron-left"})]),t._v(" "),e("b-button",{staticClass:"mx-1 btn-espacio-siguiente",attrs:{size:"sm",variant:"outline-secondary"},on:{click:t.anteriorEspacio}},[e("i",{staticClass:"fas fa-chevron-left"})]),t._v(" "),e("b-button",{staticClass:"mx-1 btn-espacio-siguiente",attrs:{size:"sm",variant:"outline-secondary"},on:{click:t.siguienteEspacio}},[e("i",{staticClass:"fas fa-chevron-right"})]),t._v(" "),e("b-button",{staticClass:"mx-1",attrs:{size:"sm",variant:"outline-secondary"},on:{click:t.ultimoEspacio}},[e("i",{staticClass:"fas fa-chevron-right"}),e("i",{staticClass:"fas fa-chevron-right"})])],1)])]),t._v(" "),e("div",{staticClass:"col-12"})]):t._e(),t._v(" "),0==t.numeroDeEspaciosTotales&&!t.mostrarFormulario&&t.respuesta?e("div",{staticClass:"row mt-3"},[e("div",{staticClass:"col-12"},[e("span",[t._v("Tu espacio personal está vacío. "),e("a",{staticClass:"enlaceNuevaEntrada",on:{click:t.formularioNuevo}},[t._v("Crea tu primera entrada")])])])]):t.respuesta||0!=t.numeroDeEspaciosTotales?t._e():e("div",{staticClass:"row mt-3"},[t._m(1)]),t._v(" "),t.mostrarFormulario?e("div",{staticClass:"row mt-3"},[e("div",{staticClass:"col-12"},[e("form",{attrs:{method:"POST"},on:{submit:function(a){return a.preventDefault(),t.enviarEspacio(a)}}},[e("div",{staticClass:"row justify-content-around align-items-center"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"row"},[t._m(2),t._v(" "),e("div",{staticClass:"col-7"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.title,expression:"form.title"}],staticClass:"w-100",attrs:{type:"text",required:""},domProps:{value:t.form.title},on:{input:function(a){a.target.composing||t.$set(t.form,"title",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"row mt-2"},[t._m(3),t._v(" "),e("div",{staticClass:"col-7"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.video,expression:"form.video"}],staticClass:"w-100",attrs:{type:"text"},domProps:{value:t.form.video},on:{input:function(a){a.target.composing||t.$set(t.form,"video",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"row mt-2"},[t._m(4),t._v(" "),e("div",{staticClass:"col-7"},[e("input",{staticClass:"w-100",attrs:{type:"file"},on:{change:function(a){return t.addImage(a)}}})])]),t._v(" "),t._m(5)])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.description,expression:"form.description"}],staticClass:"w-100 textAreaEspacio",attrs:{required:""},domProps:{value:t.form.description},on:{input:function(a){a.target.composing||t.$set(t.form,"description",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"row justify-content-start mt-2"},[e("div",{staticClass:"col-auto"},[e("b-button",{staticClass:"btn-subirEspacio",attrs:{type:"submit",size:"sm"}},[t._v("Subir")])],1),t._v(" "),e("div",{staticClass:"col-auto"},[e("b-button",{attrs:{size:"sm",variant:"outline-secondary"},on:{click:t.cerrarFormulario}},[t._v("Cancelar")])],1)])])])]):t._e()])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"row border-bottom"},[a("div",{staticClass:"col-12"},[a("h3",[this._v("Espacio personal")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"col-12"},[a("span",[this._v("Este usuario actualmente no tiene ningun espacio personal.")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"col-5"},[a("h3",{staticClass:"text-right"},[this._v("Titulo: ")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"col-5"},[a("h3",{staticClass:"text-right"},[this._v("URL Youtube video (opcional): ")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"col-5"},[a("h3",{staticClass:"text-right"},[this._v("Imagen (opcional): ")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"row mt-4"},[a("div",{staticClass:"col-5"},[a("h3",{staticClass:"text-left"},[this._v("Texto: ")])])])}]};var J={data:function(){return{entradas:[],entradaEstados:[],estados:!1,entradasTotales:[],respuesta:!1,user:Object,textArea:"",pagina:1,aux:!1}},beforeCreate:function(){var t=this,a=sessionStorage.getItem("user"),e="http://migueldev.pythonanywhere.com/api/v1.0/users/?email="+(a=JSON.parse(a)).email+"&password="+a.password;u.a.get(e).then(function(a){t.user=a.data[0],a.data[0].id==t.$route.params.id?t.respuesta=!0:t.respuesta=!1}).catch(function(){console.log("ERROR")})},created:function(){this.cargarTablon()},computed:{sortedTotales:function(){return this.entradasTotales.slice().sort(function(t,a){return Array.isArray(t)&&Array.isArray(a)?void 0===t[0].status&&void 0===a[0].status?new Date(a[0].commentProfile.dateTime)-new Date(t[0].commentProfile.dateTime):void 0===t[0].status?new Date(a[0].status.dateTime)-new Date(t[0].commentProfile.dateTime):void 0===a[0].status?new Date(a[0].commentProfile.dateTime)-new Date(t[0].status.dateTime):new Date(a[0].status.dateTime)-new Date(t[0].status.dateTime):Array.isArray(t)?void 0===t[0].status?new Date(a.dateTime)-new Date(t[0].commentProfile.dateTime):new Date(a.dateTime)-new Date(t[0].status.dateTime):Array.isArray(a)?void 0===a[0].status?new Date(a[0].commentProfile.dateTime)-new Date(t.dateTime):new Date(a[0].status.dateTime)-new Date(t.dateTime):new Date(a.dateTime)-new Date(t.dateTime)})}},methods:{cargarTablon:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"decremento";this.aux=!1,this.entradasTotales=[];var e="http://migueldev.pythonanywhere.com/api/v1.0/status/?user="+this.$route.params.id,s="http://migueldev.pythonanywhere.com/api/v1.0/commentsprofiles/?profile="+this.$route.params.id+"&page="+this.pagina;u.a.all([u.a.get(e),u.a.get(s)]).then(function(a){var e=!0,s=!1,i=void 0;try{for(var r,o=h()(a);!(e=(r=o.next()).done);e=!0){var n=r.value,c=!0,l=!1,d=void 0;try{for(var v,m=h()(n.data.results);!(c=(v=m.next()).done);c=!0){var p=v.value;if("no"!=p.hasAnswers)if(p.status_text){var f="http://migueldev.pythonanywhere.com/api/v1.0/commentstatus/?status="+p.id;u.a.get(f).then(function(a){var e=[],s=!0,i=!1,r=void 0;try{for(var o,n=h()(a.data);!(s=(o=n.next()).done);s=!0){var c=o.value;e.push(c)}}catch(t){i=!0,r=t}finally{try{!s&&n.return&&n.return()}finally{if(i)throw r}}t.entradasTotales.push(e)})}else{f="http://migueldev.pythonanywhere.com/api/v1.0/replycomment/?commentProfile="+p.id;u.a.get(f).then(function(a){var e=[],s=!0,i=!1,r=void 0;try{for(var o,n=h()(a.data);!(s=(o=n.next()).done);s=!0){var c=o.value;e.push(c)}}catch(t){i=!0,r=t}finally{try{!s&&n.return&&n.return()}finally{if(i)throw r}}t.entradasTotales.push(e)})}else t.entradasTotales.push(p)}}catch(t){l=!0,d=t}finally{try{!c&&m.return&&m.return()}finally{if(l)throw d}}}}catch(t){s=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(s)throw i}}}).catch(function(e){"decremento"==a?(t.pagina++,t.cargarTablon("aumento")):(t.pagina--,t.cargarTablon("decremento"))}).finally(function(){t.aux=!0})},perfil:function(t){t!=this.$route.params.id&&this.$router.push({name:"MiPerfil",params:{id:t}}),this.$emit("recarga")},cambiarAEstados:function(){this.pagina=1,this.estados=!0,this.totales=!1,this.cargarTablon()},cambiarAComentarios:function(){this.pagina=1,this.estados=!1,this.totales=!1,this.cargarTablon()},nuevoMensajePerfil:function(){var t=this,a={user:this.user.id,comment:this.textArea,dateTime:(new Date).toISOString(),profile:this.$route.params.id};u.a.post("http://migueldev.pythonanywhere.com/api/v1.0/commentsprofiles/",a).then(function(a){var e={user:t.$route.params.id};console.log(e),u.a.post("http://migueldev.pythonanywhere.com/api/v1.0/notifications/",e).then(function(a){t.perfil(t.$route.params.id)}).catch(function(t){console.log("ERRROR")})}).catch(function(t){console.log("ERROOOOOOR")})},comentar:function(t){if(0==t.currentTarget.parentNode.parentNode.lastChild.childElementCount){var a=document.createElement("div");a.className="col-11 mt-3";var e=document.createElement("textarea");e.className="w-100",e.style="resize: none;",e.placeholder="Escribe aquí tu comentario";var s=document.createElement("button");s.type="submit",s.innerText="Enviar";var i=document.createElement("div");i.className="col-1 p-0 mt-3",s.className="btn btn-sm btn-outline-secondary",a.append(e),i.append(s),t.currentTarget.parentNode.parentNode.lastChild.append(a),t.currentTarget.parentNode.parentNode.lastChild.append(i)}else t.currentTarget.parentNode.parentNode.lastChild.innerHTML=""},eliminarEstado:function(t){var a=this,e="http://migueldev.pythonanywhere.com/api/v1.0/status/"+t+"/";u.a.delete(e).then(function(t){a.perfil(a.$route.params.id)}).catch(function(t){console.log(t)})},eliminarComentario:function(t){var a=this,e="http://migueldev.pythonanywhere.com/api/v1.0/commentsprofiles/"+t+"/";u.a.delete(e).then(function(t){a.perfil(a.$route.params.id)}).catch(function(t){console.log(t)})},enviarRespuestaComentario:function(t,a){var e="http://migueldev.pythonanywhere.com/api/v1.0/commentsprofiles/"+a+"/",s={reply:t.target.firstChild.firstChild.value,dateTime:(new Date).toISOString(),user:this.user.id,commentProfile:a};u.a.post("http://migueldev.pythonanywhere.com/api/v1.0/replycomment/",s).then(function(t){}).catch(function(t){console.log("error1",t)}),u.a.patch(e,{hasAnswers:"yes"}).then(function(t){}).catch(function(t){console.log("error2",t)}),this.perfil(this.$route.params.id)},enviarRespuestaEstado:function(t,a){var e="http://migueldev.pythonanywhere.com/api/v1.0/status/"+a+"/",s={comment:t.target.firstChild.firstChild.value,dateTime:(new Date).toISOString(),user:this.user.id,status:a};u.a.post("http://migueldev.pythonanywhere.com/api/v1.0/commentstatus/",s).then(function(t){}).catch(function(t){console.log("error1",t)}),u.a.patch(e,{hasAnswers:"yes"}).then(function(t){}).catch(function(t){console.log("error2",t)}),this.perfil(this.$route.params.id)},disminuirPagina:function(){this.pagina--,this.cargarTablon("decremento")},aumentarPagina:function(){this.pagina++,this.cargarTablon("aumento")}}},L={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.aux?e("div",{staticClass:"row mt-5"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"row justify-content-between align-items-center border-bottom"},[t._m(0),t._v(" "),e("div",{staticClass:"col"},[e("div",{staticClass:"row justify-content-end"},[t._m(1),t._v(" "),e("div",{staticClass:"col-auto enlace_perfil",on:{click:t.cambiarAComentarios}},[t._v("\n                        Comentarios\n                    ")]),t._v(" "),e("div",{staticClass:"col-auto p-0"},[t._v("\n                        |\n                    ")]),t._v(" "),e("div",{staticClass:"col-auto enlace_perfil",on:{click:t.cambiarAEstados}},[t._v("\n                        Estados\n                    ")])])])]),t._v(" "),t.respuesta?t._e():e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("form",{staticClass:"row estado border align-items-center",attrs:{method:"POST"},on:{submit:function(a){return a.preventDefault(),t.nuevoMensajePerfil(a)}}},[e("div",{staticClass:"col-2 col-xl-1"},[e("img",{staticClass:"user_pic",attrs:{src:t.user.profile_pic}})]),t._v(" "),e("div",{staticClass:"col"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.textArea,expression:"textArea"}],staticClass:"w-100",attrs:{name:"",id:"",rows:"3"},domProps:{value:t.textArea},on:{input:function(a){a.target.composing||(t.textArea=a.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-2 col-xl-1"},[e("b-button",{attrs:{type:"submit",variant:"primary",size:"sm"}},[t._v("Enviar")])],1)])])]),t._v(" "),t.entradasTotales.length<=0?e("div",{staticClass:"row"},[t._m(2),t._v(" "),t._m(3)]):t._e(),t._v(" "),t._l(t.sortedTotales,function(a){return e("div",{key:a.id,staticClass:"row"},[a&&!Array.isArray(a)?e("div",{staticClass:"col-12"},[!a.comment||t.estados||a.status?t._e():e("div",{staticClass:"row mt-3"},[e("div",{staticClass:"col-12 border-bottom pb-3"},[e("div",{staticClass:"row align-items-center"},[e("div",{staticClass:"col-2 col-xl-1"},[e("img",{staticClass:"user_pic",attrs:{src:a.user.profile_pic}})]),t._v(" "),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto"},[e("a",{staticClass:"enlace_perfil",on:{click:function(e){return t.perfil(a.user.id)}}},[t._v(t._s(a.user.name)+" "+t._s(a.user.surname))])]),t._v(" "),e("div",{staticClass:"col-auto"},[e("small",[t._v(t._s(a.dateTime))])])]),t._v(" "),e("div",{staticClass:"row mt-2"},[e("div",{staticClass:"col-12"},[t._v("\n                                        "+t._s(a.comment)+"\n                                    ")])])])]),t._v(" "),e("div",{staticClass:"row mt-3"},[e("div",{staticClass:"col-auto enlace_perfil",on:{click:t.comentar}},[t._v("\n                                comentar\n                            ")]),t._v(" "),t.respuesta?e("div",{staticClass:"col-auto p-0"},[t._v("\n                                |\n                            ")]):t._e(),t._v(" "),t.respuesta?e("div",{staticClass:"col-auto text-danger eliminar",on:{click:function(e){return t.eliminarComentario(a.id)}}},[t._v("\n                                eliminar\n                            ")]):t._e()]),t._v(" "),e("form",{staticClass:"row",on:{submit:function(e){return e.preventDefault(),t.enviarRespuestaComentario(e,a.id)}}})])])]):t._e(),t._v(" "),Array.isArray(a)&&void 0!==a[0].commentProfile?e("div",{staticClass:"col-12"},[!a[0].commentProfile.comment||t.estados||a[0].commentProfile.status?t._e():e("div",{staticClass:"row mt-3 border-bottom"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"row align-items-center"},[e("div",{staticClass:"col-2 col-xl-1"},[e("img",{staticClass:"user_pic",attrs:{src:a[0].commentProfile.user.profile_pic}})]),t._v(" "),e("div",{staticClass:"col-10 col-xl-11"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto"},[e("a",{staticClass:"enlace_perfil",on:{click:function(e){return t.perfil(a[0].commentProfile.user.id)}}},[t._v(t._s(a[0].commentProfile.user.name)+" "+t._s(a[0].commentProfile.user.surname))])]),t._v(" "),e("div",{staticClass:"col-auto"},[e("small",[t._v(t._s(a[0].commentProfile.dateTime))])])]),t._v(" "),e("div",{staticClass:"row mt-2"},[e("div",{staticClass:"col-12"},[t._v("\n                                        "+t._s(a[0].commentProfile.comment)+"\n                                    ")])])])]),t._v(" "),e("div",{staticClass:"row mt-3"},[e("div",{staticClass:"col-auto enlace_perfil",on:{click:t.comentar}},[t._v("\n                                comentar\n                            ")]),t._v(" "),t.respuesta?e("div",{staticClass:"col-auto p-0"},[t._v("\n                                |\n                            ")]):t._e(),t._v(" "),t.respuesta?e("div",{staticClass:"col-auto text-danger eliminar",on:{click:function(e){return t.eliminarComentario(a[0].commentProfile.id)}}},[t._v("\n                                eliminar\n                            ")]):t._e()]),t._v(" "),e("form",{staticClass:"row",on:{submit:function(e){return e.preventDefault(),t.enviarRespuestaComentario(e,a[0].commentProfile.id)}}})]),t._v(" "),e("div",{staticClass:"col-12"},t._l(a,function(a){return e("div",{key:a.id,staticClass:"col-12 justify-content-center my-3"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-11"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-2 col-xl-1"},[e("img",{staticClass:"user_pic",attrs:{src:a.user.profile_pic}})]),t._v(" "),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("a",{staticClass:"enlace_perfil",on:{click:function(e){return t.perfil(a.user.id)}}},[t._v(t._s(a.user.name)+" "+t._s(a.user.surname))]),t._v(" "),e("small",[t._v(t._s(a.dateTime))])]),t._v(" "),e("div",{staticClass:"col-12"},[t._v("\n                                                    "+t._s(a.reply)+"\n                                                ")])])])])])])])}),0)])]):t._e()])}),t._v(" "),t._l(t.sortedTotales,function(a){return e("div",{key:a.id,staticClass:"row"},[a&&t.estados?e("div",{staticClass:"col-12"},[a.comment&&a.status?e("div",{staticClass:"row estado"},[e("div",{staticClass:"col-12 border-bottom"},[e("div",{staticClass:"row align-items-start my-3"},[e("div",{staticClass:"col-3 col-xl-1"},[e("img",{staticClass:"user_pic",attrs:{src:a.status.user.profile_pic}})]),t._v(" "),e("div",{staticClass:"col-9 col-xl-11"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto"},[t._v("\n                                        "+t._s(a.status.status_text)+"\n                                    ")])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto"},[t._v("\n                                        "+t._s(a.status.dateTime)+"\n                                    ")]),t._v(" "),e("div",{staticClass:"col-auto enlace_perfil",on:{click:t.comentar}},[t._v("\n                                        comentar\n                                    ")]),t._v(" "),t.respuesta?e("div",{staticClass:"col-auto p-0"},[t._v("\n                                        |\n                                    ")]):t._e(),t._v(" "),t.respuesta?e("div",{staticClass:"col-auto text-danger eliminar",on:{click:function(e){return t.eliminarEstado(a.id)}}},[t._v("\n                                        eliminar\n                                    ")]):t._e()]),t._v(" "),e("div",{staticClass:"row justify-content-center mt-4"},[e("div",{staticClass:"col-11"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto"},[e("img",{staticClass:"user_pic",attrs:{src:a.user.profile_pic}})]),t._v(" "),e("div",{staticClass:"col-auto"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[t._v("\n                                                        "+t._s(a.comment)+"\n                                                    ")]),t._v(" "),e("div",{staticClass:"col-12"},[t._v("\n                                                        "+t._s(a.dateTime)+"\n                                                    ")])])])])])]),t._v(" "),e("form",{staticClass:"row",on:{submit:function(e){return e.preventDefault(),t.enviarRespuestaEstado(e,a.id)}}})])])])]):t._e(),t._v(" "),a.status_text?e("div",{staticClass:"row estado"},[e("div",{staticClass:"col-12 border-bottom"},[e("div",{staticClass:"row align-items-start my-3"},[e("div",{staticClass:"col-2 col-xl-1"},[e("img",{staticClass:"user_pic",attrs:{src:a.user.profile_pic}})]),t._v(" "),e("div",{staticClass:"col-10 col-xl-11"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto"},[t._v("\n                                        "+t._s(a.status_text)+"\n                                    ")])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto"},[t._v("\n                                        "+t._s(a.dateTime)+"\n                                    ")]),t._v(" "),e("div",{staticClass:"col-auto enlace_perfil",on:{click:t.comentar}},[t._v("\n                                        comentar\n                                    ")]),t._v(" "),t.respuesta?e("div",{staticClass:"col-auto p-0"},[t._v("\n                                        |\n                                    ")]):t._e(),t._v(" "),t.respuesta?e("div",{staticClass:"col-auto text-danger eliminar",on:{click:function(e){return t.eliminarEstado(a.id)}}},[t._v("\n                                        eliminar\n                                    ")]):t._e()]),t._v(" "),e("form",{staticClass:"row",on:{submit:function(e){return e.preventDefault(),t.enviarRespuestaEstado(e,a.id)}}})])])])]):t._e(),t._v(" "),Array.isArray(a)&&void 0===a[0].commentProfile?e("div",{staticClass:"row estado"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 border-bottom"},[e("div",{staticClass:"row align-items-start my-3"},[e("div",{staticClass:"col-2 col-xl-1"},[e("img",{staticClass:"user_pic",attrs:{src:t.user.profile_pic}})]),t._v(" "),e("div",{staticClass:"col-10 col-xl-11"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto"},[t._v("\n                                                "+t._s(a[0].status.status_text)+"\n                                            ")])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto"},[t._v("\n                                                "+t._s(a[0].status.dateTime)+"\n                                            ")]),t._v(" "),e("div",{staticClass:"col-auto enlace_perfil",on:{click:t.comentar}},[t._v("\n                                                comentar\n                                            ")]),t._v(" "),t.respuesta?e("div",{staticClass:"col-auto p-0"},[t._v("\n                                                |\n                                            ")]):t._e(),t._v(" "),t.respuesta?e("div",{staticClass:"col-auto text-danger eliminar",on:{click:function(e){return t.eliminarEstado(a[0].status.id)}}},[t._v("\n                                                eliminar\n                                            ")]):t._e()]),t._v(" "),e("form",{staticClass:"row",on:{submit:function(e){return e.preventDefault(),t.enviarRespuestaEstado(e,a[0].status.id)}}})])]),t._v(" "),e("div",{staticClass:"row justify-content-center"},t._l(a,function(a){return e("div",{key:a.id,staticClass:"col-11 mb-3"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-2 col-xl-1"},[e("img",{staticClass:"user_pic",attrs:{src:a.user.profile_pic}})]),t._v(" "),e("div",{staticClass:"col-10"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto"},[t._v("\n                                                        "+t._s(a.comment)+"\n                                                    ")])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto"},[t._v("\n                                                        "+t._s(a.dateTime)+"\n                                                    ")])])])])])}),0)])])])]):t._e()]):t._e()])}),t._v(" "),t.entradasTotales.length>0?e("div",{staticClass:"row my-3 justify-content-between"},[e("div",{staticClass:"col-auto btn text-primary",on:{click:t.disminuirPagina}},[e("b",[t._v("<<")])]),t._v(" "),e("div",{staticClass:"col-auto btn text-primary",on:{click:t.aumentarPagina}},[e("b",[t._v(">>")])])]):t._e()],2)]):t._e()},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"col"},[a("h3",[this._v("Tablón")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"col-auto"},[a("p",{attrs:{clasS:"text-secondary"}},[this._v("Mostrar")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"col-12"},[a("small",[this._v("Vaya... Parece que todavía no hay nada publicado por aquí.")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"col-12 mt-3 text-center"},[a("img",{staticClass:"img-fluid",attrs:{src:e("6OD3")}})])}]};var H={created:function(){},data:function(){return{tieneEstado:!1}},components:{MainEspacioPersonal:e("VU/8")(U,B,!1,function(t){e("6MzZ")},"data-v-17d40200",null).exports,MainTablon:e("VU/8")(J,L,!1,function(t){e("K13v")},"data-v-20973aa8",null).exports,MainPerfilEstado:T},props:{user:Object},methods:{sinEstado:function(){this.tieneEstado=!0},recarga:function(){this.$emit("recarga")}}},Y={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row ml-3"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"row mt-4"},[e("div",{staticClass:"col-12"},[e("h2",[t._v(t._s(t.user.nombre)+" "+t._s(t.user.apellido))])])]),t._v(" "),t._m(0),t._v(" "),t.tieneEstado?t._e():e("div",{staticClass:"row row-estado mt-3"},[e("div",{staticClass:"col-12 border d-flex align-items-center"},[e("MainPerfilEstado",{attrs:{user:t.user},on:{sinEstado:t.sinEstado}})],1)]),t._v(" "),e("MainEspacioPersonal"),t._v(" "),e("MainTablon",{attrs:{user:t.user},on:{recarga:t.recarga}})],1)])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"row row-albumes"},[a("div",{staticClass:"col-auto border-right"},[a("a",{attrs:{href:"#"}},[this._v("Ver álbumes de fotos")]),this._v(" (2)\n            ")]),this._v(" "),a("div",{staticClass:"col"},[a("a",{attrs:{href:"#"}},[this._v("Videos "),a("i",{staticClass:"fas fa-chevron-down"})])])])}]};var Z=e("VU/8")(H,Y,!1,function(t){e("h8SA")},"data-v-8b27a998",null).exports,K={name:"MiPerfilMisFotos",data:function(){return{images:[],email:"",auxImages:[],modal:{activo:!0,imagen:"",subido_por:"",respuestas:[],id_user:"",form_respuesta:"",id:""},user:Object}},beforeCreate:function(){var t=this;this.user=sessionStorage.getItem("user"),this.user=JSON.parse(this.user);var a="http://migueldev.pythonanywhere.com/api/v1.0/users/?email="+this.user.email+"&password="+this.user.password;u.a.get(a).then(function(a){t.user.nombre=a.data[0].name,t.user.apellido=a.data[0].surname,t.user.foto=a.data[0].profile_pic,t.user.visitas=a.data[0].visits,t.user.invis=a.data[0].invitations,t.user.id=a.data[0].id})},created:function(){this.getPhotos()},methods:{getPhotos:function(t){var a=this,e="http://migueldev.pythonanywhere.com/api/v1.0/photos/?uploaded_by="+this.$route.params.id;u.a.get(e).then(function(t){for(var e=0;e<6;e++)a.auxImages.push(t.data[e]);var s=!0,i=!1,r=void 0;try{for(var o,n=h()(t.data);!(s=(o=n.next()).done);s=!0){var c=o.value;a.images.push(c)}}catch(t){i=!0,r=t}finally{try{!s&&n.return&&n.return()}finally{if(i)throw r}}}).catch(function(){console.log("ERRRROOOOOOOR")})},nuevoComentarioFoto:function(){var t=this,a={comment:this.modal.form_respuesta,dateTime:(new Date).toISOString,user:this.user.id,image:this.modal.id};u.a.post("http://migueldev.pythonanywhere.com/api/v1.0/commentphotos/",a).then(function(a){t.modal.activo=!1,setTimeout(function(){t.modal.activo=!0,t.modal.form_respuesta=""})}).catch(function(t){console.log("error",t)})},perfil:function(t){this.$router.push("/perfil/"+t),this.$emit("recarga")},cargarImagenModal:function(t){var a=this,e="http://migueldev.pythonanywhere.com/api/v1.0/commentphotos/?image="+t.id;u.a.get(e).then(function(t){a.modal.respuestas=t.data}).catch(function(t){console.log("nada, nada de nada")}),this.modal.imagen=t.image,this.modal.id=t.id;var s="http://migueldev.pythonanywhere.com/api/v1.0/users/?id="+t.uploaded_by;u.a.get(s).then(function(t){a.modal.subido_por=t.data[0].name+" "+t.data[0].surname,a.modal.id_user=t.data[0].id})}}},W={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row mt-3 mx-4"},[t._m(0),t._v(" "),e("div",{staticClass:"col-12 mt-2"},[t.images.length>0?e("div",{staticClass:"row border-bottom pb-3"},t._l(t.auxImages,function(a){return e("div",{key:a.id,staticClass:"col-6 mt-2"},[e("a",{directives:[{name:"b-modal",rawName:"v-b-modal.modalImagen",modifiers:{modalImagen:!0}}],on:{click:function(e){return t.cargarImagenModal(a)}}},[e("img",{staticClass:"imageFotos",attrs:{src:a.image,alt:""}})])])}),0):t._e(),t._v(" "),t.images.length>6?e("div",{staticClass:"row mt-2"},[e("div",{staticClass:"col-12"},[e("router-link",{staticClass:"verTodas",attrs:{to:"/perfil/"+t.user.id+"/fotos/"}},[t._v("Ver Todas ("+t._s(t.images.length)+")")])],1)]):t._e(),t._v(" "),t.images.length<1?e("div",{staticClass:"row"},[t._m(1)]):t._e()]),t._v(" "),t.modal.activo?e("b-modal",{attrs:{size:"xl","cancel-disabled":"","ok-disabled":"",id:"modalImagen",title:"Imagen"},scopedSlots:t._u([{key:"default",fn:function(){return[e("div",{staticClass:"row modalImagen"},[e("div",{staticClass:"col-12 col-md-8 d-flex align-items-center justify-content-center"},[e("img",{staticClass:"img-fluid",attrs:{src:t.modal.imagen,alt:""}})]),t._v(" "),e("div",{staticClass:"col-12 col-md-4 border-left"},[e("div",{staticClass:"row h-100"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[t._v("\n                                    por "),e("a",{staticClass:"link_profile",on:{click:function(a){return t.perfil(t.modal.id_user)}}},[t._v(t._s(t.modal.subido_por))])])]),t._v(" "),e("div",{staticClass:"row row-modal-comentarios align-items-end"},[t.modal.respuestas.length>0?e("div",{staticClass:"col-12"},t._l(t.modal.respuestas,function(a){return e("div",{key:a.id,staticClass:"row mb-3"},[e("div",{staticClass:"col-auto"},[e("img",{staticClass:"prof_pic",attrs:{src:a.user.profile_pic}})]),t._v(" "),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("a",{staticClass:"link_profile",on:{click:function(e){return t.perfil(a.user.id)}}},[t._v(t._s(a.user.name)+" "+t._s(a.user.surname))]),t._v(" "),e("small",[t._v("("+t._s(a.dateTime)+")")])]),t._v(" "),e("div",{staticClass:"col-12"},[t._v("\n                                                    "+t._s(a.comment)+"\n                                                ")])])])])}),0):t._e()]),t._v(" "),e("div",{staticClass:"row align-items-center row-modal-form pt-1"},[e("div",{staticClass:"col-12"},[e("form",{on:{submit:function(a){return a.preventDefault(),t.nuevoComentarioFoto()}}},[e("div",{staticClass:"row align-items-center"},[e("div",{staticClass:"col-8"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.modal.form_respuesta,expression:"modal.form_respuesta"}],staticClass:"w-100 pt",attrs:{type:"text",name:"",id:"",placeholder:"Introduce aquí tu comentario..."},domProps:{value:t.modal.form_respuesta},on:{input:function(a){a.target.composing||t.$set(t.modal,"form_respuesta",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("b-button",{staticClass:"botonEnviarComentarioModal",attrs:{type:"submit",variant:"primary",size:""}},[t._v("Enviar")])],1),t._v(" "),e("div",{staticClass:"col-12 mt-2"},[e("b-button",{attrs:{type:"submit",variant:"outline-secondary",size:"sm"}},[e("i",{staticClass:"fas fa-cog"})])],1)])])])])])])])])])])]},proxy:!0},{key:"modal-footer",fn:function(a){var s=a.hide;return[e("b-button",{staticClass:"d-none",attrs:{variant:"outline-danger"},on:{click:function(t){return s("forget")}}},[t._v("\n                Cerrar\n            ")])]}}],null,!1,1258528174)}):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"col-12"},[a("div",{staticClass:"row justify-content-between border-bottom"},[a("div",{staticClass:"col"},[a("h4",[this._v("Fotos")])]),this._v(" "),a("div",{staticClass:"col text-right"},[a("a",{staticClass:"enlaceAlbum"},[a("i",{staticClass:"fas fa-book"}),this._v(" Álbumes (2) "),a("i",{staticClass:"fas fa-chevron-down"})])])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"col-12"},[a("small",[this._v("Aún no has sido etiquetado en ninguna foto.")])])}]};var G=e("VU/8")(K,W,!1,function(t){e("hcD6")},"data-v-3cfd2be2",null).exports,Q={data:function(){return{amigos:[],aux:[]}},beforeCreate:function(){var t=this,a="http://migueldev.pythonanywhere.com/api/v1.0/friends/?user="+this.$route.params.id,e="http://migueldev.pythonanywhere.com/api/v1.0/friends/?is_friend="+this.$route.params.id;u.a.all([u.a.get(a),u.a.get(e)]).then(function(a){var e=!0,s=!1,i=void 0;try{for(var r,o=h()(a[0].data);!(e=(r=o.next()).done);e=!0){var n=r.value;t.amigos.push(n.is_friend)}}catch(t){s=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(s)throw i}}var c=!0,l=!1,u=void 0;try{for(var d,v=h()(a[1].data);!(c=(d=v.next()).done);c=!0){var m=d.value;t.amigos.push(m.user)}}catch(t){l=!0,u=t}finally{try{!c&&v.return&&v.return()}finally{if(l)throw u}}for(var p=0;p<6;p++)void 0!=t.amigos[p]&&(t.aux[p]=t.amigos[p])})},methods:{recarga:function(t){this.$router.push("/perfil/"+t),this.$emit("recarga")}}},X={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row w-100"},[e("div",{staticClass:"col-12"},[t._m(0),t._v(" "),0!=t.aux.length?e("div",{staticClass:"row mt-3 ml-3 py-2 border-bottom"},t._l(t.aux,function(a){return e("div",{key:a.id,staticClass:"col-4 my-2 p-0"},[e("div",{staticClass:"row row-amigo",on:{click:function(e){return t.recarga(a.id)}}},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 text-center"},[e("img",{staticClass:"img-amigo",attrs:{src:a.profile_pic}})]),t._v(" "),e("div",{staticClass:"col-12 text-center"},[t._v("\n                                "+t._s(a.name)+" "+t._s(a.surname)+"\n                            ")])])])])])}),0):t._e(),t._v(" "),0==t.aux.length?e("div",{staticClass:"row mt-3 ml-3 py-2 border-bottom"},[t._m(1)]):t._e(),t._v(" "),t.amigos.length>6?e("div",{staticClass:"row ml-3 mt-2"},[e("div",{staticClass:"col-12"},[e("router-link",{staticClass:"verTodas",attrs:{to:"/perfil/13/amigos/"}},[t._v("Ver Todos ("+t._s(t.amigos.length)+")")])],1)]):t._e()])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"row w-100 mt-4 mx-4 border-bottom"},[a("div",{staticClass:"col-12 pr-0"},[a("h4",[this._v("Mis Amigos")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"col-12 ml-2"},[a("small",[this._v("Todavía no has agregado a ningún amigo.")])])}]};var tt=e("VU/8")(Q,X,!1,function(t){e("JuQI")},"data-v-6ec472bc",null).exports,at={props:{user:Object},components:{MiPerfilMisFotos:G,MiPerfilMisAmigos:tt},methods:{recarga:function(){this.$emit("recarga")}}},et={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 pr-0"},[a("MiPerfilMisFotos",{attrs:{user:this.user},on:{recarga:this.recarga}})],1)]),this._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 pr-0"},[a("MiPerfilMisAmigos",{on:{recarga:this.recarga}})],1)])])])},staticRenderFns:[]};var st,it=e("VU/8")(at,et,!1,function(t){e("w9Lo")},null,null).exports,rt=(st={beforeCreate:function(){var t=this;void 0==sessionStorage.getItem("user")&&(document.body.style="background-color: #5284b5 !important",this.$router.push({name:"Principal"}));var a="http://migueldev.pythonanywhere.com/api/v1.0/users/?id="+this.$route.params.id;u.a.get(a).then(function(a){t.user.nombre=a.data[0].name,t.user.apellido=a.data[0].surname,t.user.foto=a.data[0].profile_pic,t.user.visitas=a.data[0].visits,t.user.invis=a.data[0].invitations,t.user.genero=a.data[0].gender,t.user.nacimiento=a.data[0].born,t.user.estadoCivil=a.data[0].civilStatus,t.user.email=a.data[0].email,t.user.id=a.data[0].id,t.user.profile_pic=a.data[0].profile_pic,setTimeout(function(){if(t.miPerfil(),t.$refs.navbar.user.id!=t.$route.params.id){var a="http://migueldev.pythonanywhere.com/api/v1.0/friends/?user="+t.$route.params.id+"&is_friend="+t.$refs.navbar.user.id,e="http://migueldev.pythonanywhere.com/api/v1.0/friends/?user="+t.$refs.navbar.user.id+"&is_friend="+t.$route.params.id;u.a.all([u.a.get(a),u.a.get(e)]).then(function(a){var e=!0,s=!1,i=void 0;try{for(var r,o=h()(a);!(e=(r=o.next()).done);e=!0){0!=r.value.data.length&&(t.sonAmigos=!0)}}catch(t){s=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(s)throw i}}t.sonAmigos||t.existePeticion()})}},10)})},mounted:function(){},data:function(){return{user:{nombre:"",apellido:"",foto:"",visitas:"",invis:"",genero:"",nacimiento:"",estadoCivil:"",email:"",id:"",profile_pic:""},complete:!1,recarga:!0,sonAmigos:!1,esMiPerfil:!1,yaMandada:!1,idPeticionMandada:"",borrar:!1}},methods:{recargar:function(){var t=this;this.$refs.navbar.user.id!=this.$route.params.id&&this.$refs.navbar.addVisit();var a="http://migueldev.pythonanywhere.com/api/v1.0/users/?id="+this.$route.params.id;u.a.get(a).then(function(a){t.user.nombre=a.data[0].name,t.user.apellido=a.data[0].surname,t.user.foto=a.data[0].profile_pic,t.user.visitas=a.data[0].visits,t.user.invis=a.data[0].invitations,t.user.genero=a.data[0].gender,t.user.nacimiento=a.data[0].born,t.user.estadoCivil=a.data[0].civilStatus,t.user.email=a.data[0].email,t.user.id=a.data[0].id,t.esMiPerfil=!0}),this.recarga=!1,setTimeout(function(){t.recarga=!0},1)},miPerfil:function(){this.$refs.navbar.user.id==this.$route.params.id&&(this.esMiPerfil=!0)},existePeticion:function(){var t=this,a="http://migueldev.pythonanywhere.com/api/v1.0/friendrequest/?user="+this.$refs.navbar.user.id+"&send_to="+this.$route.params.id;u.a.get(a).then(function(a){0!=a.data.length&&(t.yaMandada=!0,t.idPeticionMandada=a.data[0].id)})},mandarPeticion:function(){var t=this,a={user:this.$refs.navbar.user.id,send_to:this.$route.params.id};u.a.post("http://migueldev.pythonanywhere.com/api/v1.0/friendrequest/",a).then(function(a){t.borrar=!0,setTimeout(function(){t.crear(),t.borrar=!1},1)}).catch(function(t){console.log(t)})},cancelarPeticion:function(){var t=this,a="http://migueldev.pythonanywhere.com/api/v1.0/friendrequest/"+this.idPeticionMandada+"/";u.a.delete(a).then(function(a){t.borrar=!0,setTimeout(function(){t.crear(),t.yaMandada=!t.yaMandada,t.borrar=!1},20)}).catch(function(t){console.log(t)})},crear:function(){var t=this,a="http://migueldev.pythonanywhere.com/api/v1.0/users/?id="+this.$route.params.id;u.a.get(a).then(function(a){t.user.nombre=a.data[0].name,t.user.apellido=a.data[0].surname,t.user.foto=a.data[0].profile_pic,t.user.visitas=a.data[0].visits,t.user.invis=a.data[0].invitations,t.user.genero=a.data[0].gender,t.user.nacimiento=a.data[0].born,t.user.estadoCivil=a.data[0].civilStatus,t.user.email=a.data[0].email,t.user.id=a.data[0].id,t.user.profile_pic=a.data[0].profile_pic,setTimeout(function(){if(t.miPerfil(),t.$refs.navbar.user.id!=t.$route.params.id){var a="http://migueldev.pythonanywhere.com/api/v1.0/friends/?user="+t.$route.params.id+"&is_friend="+t.$refs.navbar.user.id,e="http://migueldev.pythonanywhere.com/api/v1.0/friends/?user="+t.$refs.navbar.user.id+"&is_friend="+t.$route.params.id;u.a.all([u.a.get(a),u.a.get(e)]).then(function(a){var e=!0,s=!1,i=void 0;try{for(var r,o=h()(a);!(e=(r=o.next()).done);e=!0){0!=r.value.data.length&&(t.sonAmigos=!0)}}catch(t){s=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(s)throw i}}t.sonAmigos||t.existePeticion()})}},10)})}}},y()(st,"mounted",function(){this.complete=!0}),y()(st,"created",function(){}),y()(st,"components",{Navbar:C,MiPerfilSidebar:q,MiPerfilMain:Z,MiPerfilDerecha:it}),st),ot={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row w-100 row-perfil m-0"},[e("div",{staticClass:"col-12 pl-0"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 pr-0"},[e("Navbar",{ref:"navbar",on:{recarga:t.recargar}})],1)]),t._v(" "),t.complete&&t.sonAmigos||t.esMiPerfil?e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-md-6 col-xl-3 "},[t.recarga?e("MiPerfilSidebar",{staticClass:"h-100",attrs:{user:t.user}}):t._e()],1),t._v(" "),e("div",{staticClass:"col-12 col-md-6 "},[t.recarga?e("MiPerfilMain",{attrs:{user:t.user},on:{recarga:t.recargar}}):t._e()],1),t._v(" "),e("div",{staticClass:"col-12 col-xl-3 w-100"},[t.recarga?e("MiPerfilDerecha",{attrs:{user:t.user},on:{recarga:t.recargar}}):t._e()],1)]):t._e(),t._v(" "),!t.complete||t.sonAmigos||t.esMiPerfil||t.borrar?t._e():e("div",{staticClass:"row mt-5"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto"},[e("img",{staticClass:"imagenPerfil",attrs:{src:t.user.profile_pic}})]),t._v(" "),e("div",{staticClass:"col-auto"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 enlace"},[t._v("\n                                    "+t._s(t.user.nombre)+" "+t._s(t.user.apellido)+"\n                                ")])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("small",[t._v("Actualmente "+t._s(t.user.nombre)+" "+t._s(t.user.apellido)+" y tú no sois amigos\n                                    ¡Mándale una petición de amistad y empieza a contactar con "+t._s(t.user.nombre)+".")])])]),t._v(" "),e("div",{staticClass:"row mt-3"},[t.yaMandada?t._e():e("div",{staticClass:"col-auto"},[e("b-button",{attrs:{size:"sm",variant:"outline-primary"},on:{click:function(a){return t.mandarPeticion()}}},[t._v("Enviar petición de amistad")])],1),t._v(" "),t.yaMandada?e("div",{staticClass:"col-auto"},[e("b-button",{attrs:{size:"sm",variant:"outline-danger"},on:{click:function(a){return t.cancelarPeticion()}}},[t._v("Borrar petición de amistad")])],1):t._e(),t._v(" "),t.yaMandada?e("div",{staticClass:"col-auto mt-1"},[e("p",{staticClass:"text-warning"},[t._v("Esperando a que "+t._s(t.user.nombre)+" acepte su petición.")])]):t._e()])])])])])])])])},staticRenderFns:[]};var nt=e("VU/8")(rt,ot,!1,function(t){e("sfsh")},"data-v-4308c3a2",null).exports,ct={render:function(){var t=this.$createElement;return(this._self._c||t)("h1",[this._v("404 Algo ha salido mal")])},staticRenderFns:[]};var lt=e("VU/8")({},ct,!1,function(t){e("Crpj")},null,null).exports,ut={components:{Navbar:C},beforeCreate:function(){void 0==sessionStorage.getItem("user")&&(document.body.style="background-color: #5284b5 !important",this.$router.push({name:"Principal"}))},data:function(){return{totalMensajes:[],user:Object}},created:function(){this.user=sessionStorage.getItem("user"),this.user=JSON.parse(this.user),this.email=this.user.email,this.getID(this.email)},methods:{getID:function(t){var a=this,e="http://migueldev.pythonanywhere.com/api/v1.0/users/?email="+t;u.a.get(e).then(function(t){a.user.id=t.data[0].id,a.getMensajes()})},getMensajes:function(){var t=this,a="http://migueldev.pythonanywhere.com/api/v1.0/privatemessage/?send_to="+this.user.id;u.a.get(a).then(function(a){var e=!0,s=!1,i=void 0;try{for(var r,o=h()(a.data);!(e=(r=o.next()).done);e=!0){var n=r.value;t.totalMensajes.push(n)}}catch(t){s=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(s)throw i}}console.log(t.totalMensajes)})},perfil:function(t){this.$router.push({name:"MiPerfil",params:{id:t}})}}},dt={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("Navbar",{ref:"navbar"})],1)]),t._v(" "),e("div",{staticClass:"row justify-content-between align-items-center border-bottom mt-3"},[t._m(0),t._v(" "),e("div",{staticClass:"col-auto mr-5"},[e("router-link",{staticClass:"enlace",attrs:{to:"/mensajes/nuevo"}},[t._v("Nuevo mensaje privado")])],1)]),t._v(" "),0==t.totalMensajes.length?e("div",{staticClass:"row justify-content-center mt-3"},[t._m(1),t._v(" "),e("div",{staticClass:"col-12 text-center"},[e("h3",[t._v("Todavía no has recibido ningún mensaje privado, ¿a qué esperas para "),e("router-link",{staticClass:"enlace",attrs:{to:"/mensajes/nuevo"}},[t._v("contactar con todos tus amigos")]),t._v("?")],1)])]):t._e(),t._v(" "),0!=t.totalMensajes.length?e("div",{staticClass:"container"},[e("div",{staticClass:"row justify-content-center"},t._l(t.totalMensajes,function(a){return e("div",{key:a.id,staticClass:"col-12 bg-container mt-3 py-3"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto"},[e("img",{staticClass:"imagenPerfil",attrs:{src:a.user.profile_pic}})]),t._v(" "),e("div",{staticClass:"col-auto"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("a",{staticClass:"enlace",on:{click:function(e){return t.perfil(a.user.id)}}},[t._v(t._s(a.user.name)+" "+t._s(a.user.surname))])]),t._v(" "),e("div",{staticClass:"col-12"},[t._v("\n                                    "+t._s(a.dateTime)+"\n                                ")])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[t._v("\n                                    "+t._s(a.message)+"\n                                ")])])])])])}),0)]):t._e()])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"col-auto"},[a("h2",{staticClass:"tituloMensajes ml-5"},[this._v("Mensajes")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"col-12 text-center"},[a("img",{staticClass:"img-fluid",attrs:{src:e("6OD3")}})])}]};var vt=e("VU/8")(ut,dt,!1,function(t){e("ZidE")},"data-v-71f459b0",null).exports,mt={data:function(){return{todasLasFotos:[],todosLosAmigos:[],images:[],email:"",auxImages:[],modal:{activo:!0,imagen:"",subido_por:"",respuestas:[],id_user:"",form_respuesta:"",id:""},user:Object}},components:{Navbar:C},beforeCreate:function(){var t=this;void 0==sessionStorage.getItem("user")&&(document.body.style="background-color: #5284b5 !important",this.$router.push({name:"Principal"})),this.user=sessionStorage.getItem("user"),this.user=JSON.parse(this.user);var a="http://migueldev.pythonanywhere.com/api/v1.0/users/?email="+this.user.email+"&password="+this.user.password;u.a.get(a).then(function(a){t.user.nombre=a.data[0].name,t.user.apellido=a.data[0].surname,t.user.foto=a.data[0].profile_pic,t.user.visitas=a.data[0].visits,t.user.invis=a.data[0].invitations,t.user.id=a.data[0].id})},mounted:function(){var t=this;if(window.location.pathname.includes("fotos")){var a="http://migueldev.pythonanywhere.com/api/v1.0/photos/?uploaded_by="+this.$route.params.id;u.a.get(a).then(function(a){t.todasLasFotos=a.data})}else{var e="http://migueldev.pythonanywhere.com/api/v1.0/friends/?user="+this.$route.params.id,s="http://migueldev.pythonanywhere.com/api/v1.0/friends/?is_friend="+this.$route.params.id;u.a.all([u.a.get(e),u.a.get(s)]).then(function(a){var e=!0,s=!1,i=void 0;try{for(var r,o=h()(a[0].data);!(e=(r=o.next()).done);e=!0){var n=r.value;t.todosLosAmigos.push({datos:n,tipo:"user"})}}catch(t){s=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(s)throw i}}var c=!0,l=!1,u=void 0;try{for(var d,v=h()(a[1].data);!(c=(d=v.next()).done);c=!0){var m=d.value;t.todosLosAmigos.push({datos:m,tipo:"is_friend"})}}catch(t){l=!0,u=t}finally{try{!c&&v.return&&v.return()}finally{if(l)throw u}}})}},methods:{getPhotos:function(t){var a=this,e="http://migueldev.pythonanywhere.com/api/v1.0/photos/?uploaded_by="+this.$route.params.id;u.a.get(e).then(function(t){for(var e=0;e<6;e++)a.auxImages.push(t.data[e]);var s=!0,i=!1,r=void 0;try{for(var o,n=h()(t.data);!(s=(o=n.next()).done);s=!0){var c=o.value;a.images.push(c)}}catch(t){i=!0,r=t}finally{try{!s&&n.return&&n.return()}finally{if(i)throw r}}}).catch(function(){console.log("ERRRROOOOOOOR")})},volverAPerfil:function(){this.$router.replace("/perfil/"+this.$route.params.id)},nuevoComentarioFoto:function(){var t=this,a={comment:this.modal.form_respuesta,dateTime:(new Date).toISOString,user:this.user.id,image:this.modal.id};u.a.post("http://migueldev.pythonanywhere.com/api/v1.0/commentphotos/",a).then(function(a){t.modal.activo=!1,setTimeout(function(){t.modal.activo=!0,t.modal.form_respuesta=""})}).catch(function(t){console.log("error",t)})},perfil:function(t){this.$router.push("/perfil/"+t)},cargarImagenModal:function(t){var a=this,e="http://migueldev.pythonanywhere.com/api/v1.0/commentphotos/?image="+t.id;u.a.get(e).then(function(t){a.modal.respuestas=t.data}).catch(function(t){console.log("nada, nada de nada")}),this.modal.imagen=t.image,this.modal.id=t.id;var s="http://migueldev.pythonanywhere.com/api/v1.0/users/?id="+t.uploaded_by;u.a.get(s).then(function(t){a.modal.subido_por=t.data[0].name+" "+t.data[0].surname,a.modal.id_user=t.data[0].id})}}},pt={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row w-100 row-perfil m-0"},[e("div",{staticClass:"col-12 pl-0"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 pr-0"},[e("Navbar",{ref:"navbar"}),t._v(" "),e("div",{staticClass:"row mt-3 w-100"},[e("div",{staticClass:"col-auto ml-5"},[e("a",{staticClass:"enlace",on:{click:function(a){return t.volverAPerfil()}}},[e("i",{staticClass:"fas fa-chevron-left"}),t._v(" Volver al perfil")])])]),t._v(" "),t.todasLasFotos.length>0?e("div",{staticClass:"row w-100"},t._l(t.todasLasFotos,function(a){return e("div",{key:a.id,staticClass:"col-12 col-md-6 col-xl-3 mt-3"},[e("div",{staticClass:"row justify-content-center"},[e("a",{directives:[{name:"b-modal",rawName:"v-b-modal.modalImagen",modifiers:{modalImagen:!0}}],on:{click:function(e){return t.cargarImagenModal(a)}}},[e("img",{staticClass:"foto",attrs:{src:a.image}})])])])}),0):t._e(),t._v(" "),t.todosLosAmigos.length>0?e("div",{staticClass:"row w-100"},t._l(t.todosLosAmigos,function(a){return e("div",{key:a.id,staticClass:"col-12 col-md-6 col-xl-3 mt-3"},["user"==a.tipo?e("div",{staticClass:"row justify-content-center"},[e("div",{staticClass:"col-auto",on:{click:function(e){return t.perfil(a.datos.is_friend.id)}}},[e("img",{staticClass:"foto",attrs:{src:a.datos.is_friend.profile_pic}})]),t._v(" "),e("div",{staticClass:"col-12 text-center"},[e("a",{staticClass:"enlace text-center"},[t._v(t._s(a.datos.is_friend.name)+" "+t._s(a.datos.is_friend.surname))])])]):t._e()])}),0):t._e()],1)])]),t._v(" "),t.modal.activo?e("b-modal",{attrs:{size:"xl","cancel-disabled":"","ok-disabled":"",id:"modalImagen",title:"Imagen"},scopedSlots:t._u([{key:"default",fn:function(){return[e("div",{staticClass:"row modalImagen"},[e("div",{staticClass:"col-12 col-md-8 d-flex align-items-center justify-content-center"},[e("img",{staticClass:"img-fluid",attrs:{src:t.modal.imagen,alt:""}})]),t._v(" "),e("div",{staticClass:"col-12 col-md-4 border-left"},[e("div",{staticClass:"row h-100"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[t._v("\n                                    por "),e("a",{staticClass:"link_profile",on:{click:function(a){return t.perfil(t.modal.id_user)}}},[t._v(t._s(t.modal.subido_por))])])]),t._v(" "),e("div",{staticClass:"row row-modal-comentarios align-items-end"},[t.modal.respuestas.length>0?e("div",{staticClass:"col-12"},t._l(t.modal.respuestas,function(a){return e("div",{key:a.id,staticClass:"row mb-3"},[e("div",{staticClass:"col-auto"},[e("img",{staticClass:"prof_pic",attrs:{src:a.user.profile_pic}})]),t._v(" "),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("a",{staticClass:"link_profile",on:{click:function(e){return t.perfil(a.user.id)}}},[t._v(t._s(a.user.name)+" "+t._s(a.user.surname))]),t._v(" "),e("small",[t._v("("+t._s(a.dateTime)+")")])]),t._v(" "),e("div",{staticClass:"col-12"},[t._v("\n                                                    "+t._s(a.comment)+"\n                                                ")])])])])}),0):t._e()]),t._v(" "),e("div",{staticClass:"row align-items-center row-modal-form pt-1"},[e("div",{staticClass:"col-12"},[e("form",{on:{submit:function(a){return a.preventDefault(),t.nuevoComentarioFoto()}}},[e("div",{staticClass:"row align-items-center"},[e("div",{staticClass:"col-8"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.modal.form_respuesta,expression:"modal.form_respuesta"}],staticClass:"w-100 pt",attrs:{type:"text",name:"",id:"",placeholder:"Introduce aquí tu comentario..."},domProps:{value:t.modal.form_respuesta},on:{input:function(a){a.target.composing||t.$set(t.modal,"form_respuesta",a.target.value)}}})]),t._v(" "),e("div",{staticClass:"col"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("b-button",{staticClass:"botonEnviarComentarioModal",attrs:{type:"submit",variant:"primary",size:""}},[t._v("Enviar")])],1),t._v(" "),e("div",{staticClass:"col-12 mt-2"},[e("b-button",{attrs:{type:"submit",variant:"outline-secondary",size:"sm"}},[e("i",{staticClass:"fas fa-cog"})])],1)])])])])])])])])])])]},proxy:!0},{key:"modal-footer",fn:function(a){var s=a.hide;return[e("b-button",{staticClass:"d-none",attrs:{variant:"outline-danger"},on:{click:function(t){return s("forget")}}},[t._v("\n                Cerrar\n            ")])]}}],null,!1,1258528174)}):t._e()],1)},staticRenderFns:[]};var ft=e("VU/8")(mt,pt,!1,function(t){e("r/C3")},"data-v-6aaa174f",null).exports,ht={components:{Navbar:C},data:function(){return{arrayBusqueda:[],arrayResultados:[]}},created:function(){this.cargar()},methods:{beforeCreate:function(){void 0==sessionStorage.getItem("user")&&(document.body.style="background-color: #5284b5 !important",this.$router.push({name:"Principal"}))},recargar:function(){this.arrayBusqueda=[],this.arrayResultados=[],this.cargar()},cargar:function(){var t=this;this.arrayBusqueda=this.$route.params.search.split("+");for(var a=[],e=[],s=0;s<this.arrayBusqueda.length;s++){a.push(this.arrayBusqueda[s]);var i={nombre:a.join(" "),apellido:this.arrayBusqueda.filter(function(t){return!a.includes(t)}).join(" ")};""!=i.nombre&&""!=i.apellido?e.push(u.a.get("http://migueldev.pythonanywhere.com/api/v1.0/users/?name="+i.nombre+"&surname="+i.apellido)):""!=i.nombre?e.push(u.a.get("http://migueldev.pythonanywhere.com/api/v1.0/users/?name="+i.nombre)):""!=i.apellido&&e.push(u.a.get("http://migueldev.pythonanywhere.com/api/v1.0/users/?surname="+i.apellido))}u.a.all(e).then(function(a){var e=!0,s=!1,i=void 0;try{for(var r,o=h()(a);!(e=(r=o.next()).done);e=!0){var n=r.value;if(n.data.length>0){var c=!0,l=!1,u=void 0;try{for(var d,v=h()(n.data);!(c=(d=v.next()).done);c=!0){var m=d.value;t.arrayResultados.push(m)}}catch(t){l=!0,u=t}finally{try{!c&&v.return&&v.return()}finally{if(l)throw u}}}}}catch(t){s=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(s)throw i}}})},perfil:function(t){this.$router.push({name:"MiPerfil",params:{id:t}})}}},_t={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"row"},[e("Navbar",{ref:"navbar",on:{recarga:t.recargar}})],1),t._v(" "),e("div",{staticClass:"row mt-5"},t._l(t.arrayResultados,function(a){return e("div",{key:a.id,staticClass:"col-12 col-md-3"},[e("div",{staticClass:"row justify-content-center user",on:{click:function(e){return t.perfil(a.id)}}},[e("div",{staticClass:"col-12 text-center"},[e("img",{staticClass:"imagenPerfil",attrs:{src:a.profile_pic}})]),t._v(" "),e("div",{staticClass:"col-12 text-center enlacePerfil"},[t._v("\n                        "+t._s(a.name)+" "+t._s(a.surname)+"\n                    ")])])])}),0)])])},staticRenderFns:[]};var gt=e("VU/8")(ht,_t,!1,function(t){e("N0bJ")},"data-v-a5f60236",null).exports,Ct={beforeCreate:function(){void 0==sessionStorage.getItem("user")&&(document.body.style="background-color: #5284b5 !important",this.$router.push({name:"Principal"}))},components:{Navbar:C},data:function(){return{user:Object,amigos:[],textArea:"",selected:""}},created:function(){this.user=sessionStorage.getItem("user"),this.user=JSON.parse(this.user),this.email=this.user.email,this.getID(this.email),this.complete=!0,this.enviado=!1},methods:{getID:function(t){var a=this,e="http://migueldev.pythonanywhere.com/api/v1.0/users/?email="+t;u.a.get(e).then(function(t){a.user.id=t.data[0].id,a.getFriends()})},getFriends:function(){var t=this,a="http://migueldev.pythonanywhere.com/api/v1.0/friends/?user="+this.user.id,e="http://migueldev.pythonanywhere.com/api/v1.0/friends/?is_friend="+this.user.id;u.a.all([u.a.get(a),u.a.get(e)]).then(function(a){var e=!0,s=!1,i=void 0;try{for(var r,o=h()(a[0].data);!(e=(r=o.next()).done);e=!0){var n=r.value;t.amigos.push(n.is_friend)}}catch(t){s=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(s)throw i}}var c=!0,l=!1,u=void 0;try{for(var d,v=h()(a[1].data);!(c=(d=v.next()).done);c=!0){var m=d.value;t.amigos.push(m.user)}}catch(t){l=!0,u=t}finally{try{!c&&v.return&&v.return()}finally{if(l)throw u}}})},enviarMensaje:function(){var t=this,a={dateTime:(new Date).toISOString(),message:this.textArea,user:this.user.id,send_to:this.selected};u.a.post("http://migueldev.pythonanywhere.com/api/v1.0/privatemessage/",a).then(function(a){t.textArea="",t.enviado=!0}).catch(function(t){console.log(t)})}}},wt={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row w-100"},[e("div",{staticClass:"col-12 pr-0"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 pr-0"},[e("Navbar",{ref:"navbar"})],1)]),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"row bg-success"},[t.enviado?e("div",{staticClass:"col-12 text-white"},[t._v("\n                Mensaje enviado con éxito\n            ")]):t._e()]),t._v(" "),0==t.amigos.length?e("div",{staticClass:"row mt-5"},[t._m(1),t._v(" "),t._m(2)]):t._e(),t._v(" "),0!=t.amigos.length?e("div",{staticClass:"row mt-5"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"container container-bg"},[e("form",{staticClass:"row p-5 justify-content-center",on:{submit:function(a){return a.preventDefault(),t.enviarMensaje(a)}}},[t._m(3),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"col-10 col-md-11",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selected=a.target.multiple?e:e[0]}}},t._l(t.amigos,function(a){return e("option",{key:a.id,domProps:{value:a.id}},[t._v(t._s(a.name))])}),0),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.textArea,expression:"textArea"}],staticClass:"col-12 mt-5",attrs:{rows:"10"},domProps:{value:t.textArea},on:{input:function(a){a.target.composing||(t.textArea=a.target.value)}}}),t._v(" "),e("b-button",{staticClass:"mt-5 btn-veinti",attrs:{type:"submit",variant:"outline-primary"}},[t._v("Enviar mensaje")])],1)])])]):t._e()])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"row mt-3 w-100 border-bottom"},[a("div",{staticClass:"col-auto"},[a("h3",{staticClass:"ml-3"},[this._v("Enviar mensaje")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"col-12 text-center"},[a("h2",[this._v("Todavía no tienes ningún amigo agregado.")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"col-12 text-center"},[a("p",[this._v("Empieza buscando a tus amigos y ¡Mándales todos los mensajes que quieras!")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"col-2 col-md-1"},[a("strong",[this._v("Para:")])])}]};var yt=e("VU/8")(Ct,wt,!1,function(t){e("zOBd")},null,null).exports,bt={data:function(){return{existe:!1,form:{nombre:"",apellido:"",fechaDeNacimiento:"",mail:"",pass:"",repPass:"",sexo:"",estadoCivil:"",foto:""},images:[],passSha:""}},beforeCreate:function(){var t=this,a="http://migueldev.pythonanywhere.com/api/v1.0/invitation/?code="+this.$route.params.code;u.a.get(a).then(function(a){0!=a.data.length&&(t.existe=!0)})},methods:{onFileChange:function(t){this.images.push(t.target.files[t.target.files.length-1])},formatDate:function(t){var a=new Date(t),e=""+(a.getMonth()+1),s=""+a.getDate(),i=a.getFullYear();return e.length<2&&(e="0"+e),s.length<2&&(s="0"+s),[i,e,s].join("-")},registrarse:function(){var t=this;this.passSha=Object(d.sha256)(this.form.pass);var a=!0,e=!1,s=void 0;try{for(var i,r=h()(this.images);!(a=(i=r.next()).done);a=!0){var o=i.value,n=new FormData;n.append("name",this.form.nombre),n.append("surname",this.form.apellido),n.append("email",this.form.mail),n.append("password",this.passSha),n.append("profile_pic",o),n.append("invitations",10),n.append("visits",0),n.append("born",this.formatDate(this.form.fechaDeNacimiento)),n.append("gender",this.form.sexo),n.append("civilStatus",this.form.estadoCivil),u.a.post("http://migueldev.pythonanywhere.com/api/v1.0/users/",n).then(function(a){t.$router.push({name:"Principal"})}).catch(function(t){console.log(t)})}}catch(t){e=!0,s=t}finally{try{!a&&r.return&&r.return()}finally{if(e)throw s}}}}},xt={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row w-100 m-0"},[e("div",{staticClass:"col-12 p-0"},[e("div",{staticClass:"w-100"},[e("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),t._v(" "),e("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[e("b-navbar-nav"),t._v(" "),e("b-navbar-nav",{staticClass:"ml-auto"})],1)],1),t._v(" "),t.existe?t._e():e("div",{staticClass:"row"},[t._m(0),t._v(" "),t._m(1)]),t._v(" "),t.existe?e("div",{staticClass:"row w-100 mt-3"},[e("div",{staticClass:"col-12"},[t._m(2),t._v(" "),t._m(3),t._v(" "),e("div",{staticClass:"row mt-5"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"container"},[e("form",{staticClass:"row justify-content-center formulario",attrs:{enctype:"multipart/form-data"},on:{submit:function(a){return a.preventDefault(),t.registrarse(a)}}},[e("div",{staticClass:"col"},[e("div",{staticClass:"row justify-content-center"},[t._m(4),t._v(" "),e("div",{staticClass:"col-9"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.nombre,expression:"form.nombre"}],staticClass:"w-100",attrs:{required:"",type:"text"},domProps:{value:t.form.nombre},on:{input:function(a){a.target.composing||t.$set(t.form,"nombre",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"row justify-content-center"},[t._m(5),t._v(" "),e("div",{staticClass:"col-9"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.apellido,expression:"form.apellido"}],staticClass:"w-100",attrs:{required:"",type:"text"},domProps:{value:t.form.apellido},on:{input:function(a){a.target.composing||t.$set(t.form,"apellido",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"row justify-content-center"},[t._m(6),t._v(" "),e("div",{staticClass:"col-9"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.fechaDeNacimiento,expression:"form.fechaDeNacimiento"}],staticClass:"w-100",attrs:{required:"",type:"date"},domProps:{value:t.form.fechaDeNacimiento},on:{input:function(a){a.target.composing||t.$set(t.form,"fechaDeNacimiento",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"row justify-content-center"},[t._m(7),t._v(" "),e("div",{staticClass:"col-9"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.mail,expression:"form.mail"}],staticClass:"w-100",attrs:{required:"",type:"email"},domProps:{value:t.form.mail},on:{input:function(a){a.target.composing||t.$set(t.form,"mail",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"row justify-content-center"},[t._m(8),t._v(" "),e("div",{staticClass:"col-9"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.pass,expression:"form.pass"}],staticClass:"w-100",attrs:{required:"",type:"password"},domProps:{value:t.form.pass},on:{input:function(a){a.target.composing||t.$set(t.form,"pass",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"row justify-content-center"},[t._m(9),t._v(" "),e("div",{staticClass:"col-9"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.repPass,expression:"form.repPass"}],staticClass:"w-100",attrs:{required:"",type:"password"},domProps:{value:t.form.repPass},on:{input:function(a){a.target.composing||t.$set(t.form,"repPass",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"row justify-content-center"},[t._m(10),t._v(" "),e("div",{staticClass:"col-9",on:{change:function(a){return t.onFileChange(a)}}},[e("input",{ref:"file",staticClass:"w-100",attrs:{required:"",type:"file",id:"file"}})])]),t._v(" "),e("div",{staticClass:"row justify-content-center"},[t._m(11),t._v(" "),e("div",{staticClass:"col-9"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.sexo,expression:"form.sexo"}],staticClass:"w-100",attrs:{required:"",type:"text"},domProps:{value:t.form.sexo},on:{input:function(a){a.target.composing||t.$set(t.form,"sexo",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"row justify-content-center"},[t._m(12),t._v(" "),e("div",{staticClass:"col-9"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.estadoCivil,expression:"form.estadoCivil"}],staticClass:"w-100",attrs:{required:"",type:"text"},domProps:{value:t.form.estadoCivil},on:{input:function(a){a.target.composing||t.$set(t.form,"estadoCivil",a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"row mt-3 justify-content-center"},[e("div",{staticClass:"col-auto"},[e("b-button",{staticClass:"boton",attrs:{type:"submit"}},[t._v("Registrarse")])],1)])])])])])])])]):t._e()])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"col-12 p-0 text-center"},[a("img",{attrs:{src:e("6OD3")}})])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"col-12 p-0 text-center"},[a("h3",[this._v("No existe esta invitación o ha caducado.")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"row border-bottom"},[a("div",{staticClass:"col-12"},[a("h2",{staticClass:"ml-5 text-white"},[this._v("Registro")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"row mt-3"},[a("div",{staticClass:"col-12 text-center"},[a("h4",{staticClass:"text-white"},[a("em",[this._v("Estás muy cerca de formar parte de nuestra familia. Registrate con tus datos y comienza a usar Veinti")])])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"col-3"},[a("p",[a("strong",[this._v("Nombre")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"col-3"},[a("p",[a("strong",[this._v("Apellido")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"col-3"},[a("p",[a("strong",[this._v("Fecha de Nacimiento")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"col-3"},[a("p",[a("strong",[this._v("E-mail")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"col-3"},[a("p",[a("strong",[this._v("Contraseña")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"col-3"},[a("p",[a("strong",[this._v("Repite Contraseña")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"col-3"},[a("p",[a("strong",[this._v("Foto de perfil")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"col-3"},[a("p",[a("strong",[this._v("Sexo")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"col-3"},[a("p",[a("strong",[this._v("Estado Civil")])])])}]};var Et=e("VU/8")(bt,xt,!1,function(t){e("Of0i")},"data-v-7776e232",null).exports,$t={components:{Navbar:C},beforeCreate:function(){void 0==sessionStorage.getItem("user")&&(document.body.style="background-color: #5284b5 !important",this.$router.push({name:"Principal"}))},created:function(){var t=this;setTimeout(function(){var a="http://migueldev.pythonanywhere.com/api/v1.0/friendrequest/?send_to="+t.$refs.navbar.user.id;u.a.get(a).then(function(a){var e=!0,s=!1,i=void 0;try{for(var r,o=h()(a.data);!(e=(r=o.next()).done);e=!0){var n=r.value;t.peticiones.push(n)}}catch(t){s=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(s)throw i}}})},500)},data:function(){return{peticiones:[]}},methods:{aceptar:function(t){var a=this,e={user:t.user.id,is_friend:t.send_to.id};u.a.post("http://migueldev.pythonanywhere.com/api/v1.0/friends/",e).then(function(e){var s="http://migueldev.pythonanywhere.com/api/v1.0/friendrequest/"+t.id+"/";u.a.delete(s).then(function(t){a.$router.push({name:"home"})})})}}},Pt={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("Navbar",{ref:"navbar"}),t._v(" "),e("div",{staticClass:"row mt-3"},[0!=t.peticiones.length?e("div",{staticClass:"col-12"},[e("div",{staticClass:"container"},t._l(t.peticiones,function(a){return e("div",{key:a.id,staticClass:"row border py-2 my-2"},[e("div",{staticClass:"col-auto"},[e("img",{staticStyle:{width:"100px",height:"100px"},attrs:{src:a.user.profile_pic,alt:""}})]),t._v(" "),e("div",{staticClass:"col-auto"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[t._v("\n                                    "+t._s(a.user.name)+" "+t._s(a.user.surname)+"\n                                ")]),t._v(" "),e("div",{staticClass:"col-auto"},[e("b-button",{attrs:{size:"sm",variant:"outline-success"},on:{click:function(e){return t.aceptar(a)}}},[t._v("Aceptar")])],1),t._v(" "),e("div",{staticClass:"col-auto"},[e("b-button",{attrs:{size:"sm",variant:"outline-danger"},on:{click:function(e){return t.rechazar(a.id)}}},[t._v("Rechazar")])],1)])])])}),0)]):t._e()])],1)])},staticRenderFns:[]};var Tt=e("VU/8")($t,Pt,!1,function(t){e("m5Yi")},null,null).exports;s.default.use(o.a);var kt=new o.a({routes:[{path:"/",name:"Principal",component:p},{path:"/home",name:"home",component:M},{path:"/mi-cuenta",name:"miCuenta",component:I},{path:"/perfil/:id/",props:!0,name:"MiPerfil",component:nt},{path:"/mensajes",name:"Mensajes",component:vt},{path:"/mensajes/nuevo",component:yt},{path:"*",name:"NotFound",component:lt},{path:"/perfil/:id/fotos/",component:ft},{path:"/perfil/:id/amigos/",component:ft},{path:"/busqueda/:search/",name:"Busqueda",component:gt},{path:"/invitacion/:code/",component:Et},{path:"/peticiones/",name:"peticiones",component:Tt}],mode:"history"}),Dt=e("Tqaz"),St=(e("Jmt5"),e("9M+g"),e("C/JF")),jt=e("fhbW"),Ot=e("1e6/");e("ao2D"),e("rk6y");s.default.use(Dt.a),s.default.use(Dt.b),St.c.add(jt.a),s.default.component("font-awesome-icon",Ot.a),s.default.config.productionTip=!1,new s.default({el:"#app",router:kt,components:{App:r},template:"<App/>"})},Of0i:function(t,a){},Tg2K:function(t,a){},ZidE:function(t,a){},ao2D:function(t,a){},eocK:function(t,a){},h8SA:function(t,a){},hcD6:function(t,a){},hrZk:function(t,a){},m5Yi:function(t,a){},puqh:function(t,a){},"r/C3":function(t,a){},sfsh:function(t,a){},w9Lo:function(t,a){},"xj+B":function(t,a){},xkxB:function(t,a){},xuJ4:function(t,a){},zOBd:function(t,a){}},["NHnr"]);
//# sourceMappingURL=app.e98584484d9a51e7d66f.js.map